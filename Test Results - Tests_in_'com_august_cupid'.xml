<?xml version="1.0" encoding="UTF-8"?><testrun duration="399232" footerText="Generated by IntelliJ IDEA on 11/29/25, 1:50 PM" name="Tests in 'com.august.cupid'">
    <count name="total" value="107"/>
    <count name="failed" value="21"/>
    <count name="passed" value="86"/>
    <config configId="GradleRunConfiguration" name="Tests in 'com.august.cupid'">
        <ExternalSystemSettings>
            <option name="executionName"/>
            <option name="externalProjectPath" value="/Users/gahee/IdeaProjects/Cupid"/>
            <option name="externalSystemIdString" value="GRADLE"/>
            <option name="scriptParameters" value=""/>
            <option name="taskDescriptions">
                <list/>
            </option>
            <option name="taskNames">
                <list>
                    <option value=":test"/>
                    <option value="--tests"/>
                    <option value="&quot;com.august.cupid.*&quot;"/>
                </list>
            </option>
            <option name="vmOptions"/>
        </ExternalSystemSettings>
        <ExternalSystemDebugServerProcess/>
        <ExternalSystemReattachDebugProcess/>
        <DebugAllEnabled/>
        <RunAsTest/>
        <method v="2"/>
    </config>
    <suite duration="303" locationUrl="java:suite://com.august.cupid.CupidApplicationTests" name="CupidApplicationTests" status="passed">
        <test duration="303" locationUrl="java:test://com.august.cupid.CupidApplicationTests/contextLoads" name="contextLoads" status="passed"/>
    </suite>
    <suite duration="1039" locationUrl="java:suite://com.august.cupid.controller.AuthControllerTest" name="AuthControllerTest" status="passed">
        <test duration="517" locationUrl="java:test://com.august.cupid.controller.AuthControllerTest/validate token should return token info for valid token" name="validate token should return token info for valid token" status="passed">
            <output type="stdout">13:42:24.289 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: token_validation_test
13:42:24.290 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: token_validation_test
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:42:24.351 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:42:24.441 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:42:24.441 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:42:24.441 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: 2e76e176-ef8a-46ac-b2d3-7ca5ae4e8612
13:42:24.441 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:42:24.464 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: token_validation_test (2e76e176-ef8a-46ac-b2d3-7ca5ae4e8612)
13:42:24.489 [Test worker] INFO  c.a.cupid.controller.AuthController - 로그인 시도: token_validation_test
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        and u1_0.is_active
13:42:24.623 [Test worker] INFO  c.august.cupid.service.AuthService - 로그인 성공: token_validation_test (2e76e176-ef8a-46ac-b2d3-7ca5ae4e8612)
13:42:24.654 [Test worker] INFO  c.a.cupid.controller.AuthController - 토큰 검증 시도
</output>
        </test>
        <test duration="171" locationUrl="java:test://com.august.cupid.controller.AuthControllerTest/login should fail with invalid credentials" name="login should fail with invalid credentials" status="passed">
            <output type="stdout">13:42:24.694 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: invalid_login_test
13:42:24.695 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: invalid_login_test
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:42:24.697 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:42:24.774 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:42:24.774 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:42:24.774 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: e2ca38b2-3c46-4f6a-ab7e-8265a52704fd
13:42:24.774 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:42:24.776 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: invalid_login_test (e2ca38b2-3c46-4f6a-ab7e-8265a52704fd)
13:42:24.778 [Test worker] INFO  c.a.cupid.controller.AuthController - 로그인 시도: invalid_login_test
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        and u1_0.is_active
</output>
        </test>
        <test duration="92" locationUrl="java:test://com.august.cupid.controller.AuthControllerTest/register should fail with duplicate username" name="register should fail with duplicate username" status="passed">
            <output type="stdout">13:42:24.865 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: duplicate_user
13:42:24.865 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: duplicate_user
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:42:24.867 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:42:24.943 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:42:24.943 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:42:24.943 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: f975fa14-fbfd-4480-a0a2-f4aa5d66b858
13:42:24.943 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:42:24.945 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: duplicate_user (f975fa14-fbfd-4480-a0a2-f4aa5d66b858)
13:42:24.947 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: duplicate_user
13:42:24.947 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: duplicate_user
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
13:42:24.950 [Test worker] WARN  c.august.cupid.service.UserService - 사용자명 중복: duplicate_user
</output>
        </test>
        <test duration="171" locationUrl="java:test://com.august.cupid.controller.AuthControllerTest/login should return tokens for valid credentials" name="login should return tokens for valid credentials" status="passed">
            <output type="stdout">13:42:24.957 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: login_test_user
13:42:24.958 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: login_test_user
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:42:24.959 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:42:25.037 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:42:25.038 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:42:25.038 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: 9c1e14a2-ee3b-47a7-aa00-f508fdde5559
13:42:25.038 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:42:25.039 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: login_test_user (9c1e14a2-ee3b-47a7-aa00-f508fdde5559)
13:42:25.041 [Test worker] INFO  c.a.cupid.controller.AuthController - 로그인 시도: login_test_user
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        and u1_0.is_active
13:42:25.121 [Test worker] INFO  c.august.cupid.service.AuthService - 로그인 성공: login_test_user (9c1e14a2-ee3b-47a7-aa00-f508fdde5559)
</output>
        </test>
        <test duration="88" locationUrl="java:test://com.august.cupid.controller.AuthControllerTest/register should create new user successfully" name="register should create new user successfully" status="passed">
            <output type="stdout">13:42:25.129 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: testuser
13:42:25.129 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: testuser
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:42:25.131 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:42:25.208 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:42:25.208 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:42:25.208 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: cef2c4d5-195c-4e3e-8020-383108bc6ae1
13:42:25.208 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:42:25.209 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: testuser (cef2c4d5-195c-4e3e-8020-383108bc6ae1)
</output>
        </test>
    </suite>
    <suite duration="83" locationUrl="java:suite://com.august.cupid.controller.HealthControllerTest" name="HealthControllerTest" status="passed">
        <test duration="74" locationUrl="java:test://com.august.cupid.controller.HealthControllerTest/health endpoint should return UP status" name="health endpoint should return UP status" status="passed"/>
        <test duration="9" locationUrl="java:test://com.august.cupid.controller.HealthControllerTest/health endpoint should include all services" name="health endpoint should include all services" status="passed"/>
    </suite>
    <suite duration="152745" locationUrl="java:suite://com.august.cupid.controller.KeyExchangeControllerTest" name="KeyExchangeControllerTest" status="failed">
        <test duration="25522" locationUrl="java:test://com.august.cupid.controller.KeyExchangeControllerTest/test delete all keys and regenerate" name="test delete all keys and regenerate" status="passed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:42:26.834 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 fa061a16-189c-46fd-9fbd-3f332cd2810e의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:42:39.652 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 fa061a16-189c-46fd-9fbd-3f332cd2810e의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:42:39.677 [SimpleAsyncTaskExecutor-1] DEBUG o.s.data.mongodb.core.MongoTemplate - Saving Document containing fields: [_id, user_id, event_type, success, execution_time_ms, metadata, created_at, expires_at, _class]
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:42:39.691 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 fa061a16-189c-46fd-9fbd-3f332cd2810e
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:42:39.699 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 fa061a16-189c-46fd-9fbd-3f332cd2810e
13:42:39.701 [SimpleAsyncTaskExecutor-2] DEBUG o.s.data.mongodb.core.MongoTemplate - Saving Document containing fields: [_id, user_id, event_type, success, execution_time_ms, created_at, expires_at, _class]
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    delete 
    from
        signal_sessions ss1_0 
    where
        ss1_0.user_id=?
Hibernate: 
    delete 
    from
        signal_identities si1_0 
    where
        si1_0.user_id=?
Hibernate: 
    delete 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=?
Hibernate: 
    delete 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=?
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    delete 
    from
        user_keys 
    where
        id=?
13:42:39.735 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 fa061a16-189c-46fd-9fbd-3f332cd2810e의 모든 키 및 세션 삭제 완료
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
13:42:39.739 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 fa061a16-189c-46fd-9fbd-3f332cd2810e의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:42:52.293 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 fa061a16-189c-46fd-9fbd-3f332cd2810e의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
13:42:52.294 [SimpleAsyncTaskExecutor-3] DEBUG o.s.data.mongodb.core.MongoTemplate - Saving Document containing fields: [_id, user_id, event_type, success, execution_time_ms, metadata, created_at, expires_at, _class]
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:42:52.311 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 fa061a16-189c-46fd-9fbd-3f332cd2810e
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:42:52.312 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 fa061a16-189c-46fd-9fbd-3f332cd2810e
13:42:52.313 [SimpleAsyncTaskExecutor-4] DEBUG o.s.data.mongodb.core.MongoTemplate - Saving Document containing fields: [_id, user_id, event_type, success, execution_time_ms, created_at, expires_at, _class]
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
13:42:52.324 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:42:52.324 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:42:52.324 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:42:52.324 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1313e1fa]]
13:42:52.324 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1313e1fa]
13:42:52.324 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1313e1fa]
13:42:52.324 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:42:52.324 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:42:52.324 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:42:52.341 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:42:52.346 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
13:42:52.347 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
</output>
        </test>
        <test duration="25392" locationUrl="java:test://com.august.cupid.controller.KeyExchangeControllerTest/test regenerate keys" name="test regenerate keys" status="failed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:42:53.094 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 6569e075-9231-4753-97a5-eaa5d264c204의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:43:05.598 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 6569e075-9231-4753-97a5-eaa5d264c204의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:43:05.623 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 6569e075-9231-4753-97a5-eaa5d264c204
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:43:05.627 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 6569e075-9231-4753-97a5-eaa5d264c204
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
13:43:05.631 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 6569e075-9231-4753-97a5-eaa5d264c204의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:43:05.632 [Test worker] INFO  c.a.c.service.SignalProtocolService - 기존 키 삭제 중: 사용자 6569e075-9231-4753-97a5-eaa5d264c204
Hibernate: 
    delete 
    from
        signal_sessions ss1_0 
    where
        ss1_0.user_id=?
Hibernate: 
    delete 
    from
        signal_identities si1_0 
    where
        si1_0.user_id=?
Hibernate: 
    delete 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=?
Hibernate: 
    delete 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=?
Hibernate: 
    delete 
    from
        user_keys 
    where
        id=?
13:43:05.638 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 6569e075-9231-4753-97a5-eaa5d264c204의 모든 키 및 세션 삭제 완료
13:43:18.400 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 6569e075-9231-4753-97a5-eaa5d264c204의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:43:18.426 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 6569e075-9231-4753-97a5-eaa5d264c204
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:43:18.428 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 6569e075-9231-4753-97a5-eaa5d264c204
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
13:43:18.441 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:43:18.441 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:43:18.441 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:43:18.441 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6cb7fb13]]
13:43:18.441 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6cb7fb13]
13:43:18.441 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6cb7fb13]
13:43:18.441 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:43:18.441 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:43:18.441 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:43:18.460 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:43:18.466 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
13:43:18.471 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
</output>
            <output type="stderr">expected: not equal but was: &lt;1&gt;org.opentest4j.AssertionFailedError: expected: not equal but was: &lt;1&gt;
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertNotEquals.failEqual(AssertNotEquals.java:277)
	at org.junit.jupiter.api.AssertNotEquals.assertNotEquals(AssertNotEquals.java:263)
	at org.junit.jupiter.api.Assertions.assertNotEquals(Assertions.java:2832)
	at kotlin.test.junit5.JUnit5Asserter.assertNotEquals(JUnitSupport.kt:36)
	at kotlin.test.AssertionsKt__AssertionsKt.assertNotEquals(Assertions.kt:80)
	at kotlin.test.AssertionsKt.assertNotEquals(Unknown Source)
	at kotlin.test.AssertionsKt__AssertionsKt.assertNotEquals$default(Assertions.kt:79)
	at kotlin.test.AssertionsKt.assertNotEquals$default(Unknown Source)
	at com.august.cupid.controller.KeyExchangeControllerTest.test regenerate keys(KeyExchangeControllerTest.kt:267)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</output>
        </test>
        <test duration="14404" locationUrl="java:test://com.august.cupid.controller.KeyExchangeControllerTest/test rotate signed pre-key" name="test rotate signed pre-key" status="failed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:43:20.143 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 ef08a087-926e-40ae-a9b1-17dde3063a81의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:43:22.823 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 7, active threads = 1, queued tasks = 4, completed tasks = 2]
13:43:24.168 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 7, active threads = 1, queued tasks = 4, completed tasks = 2]
13:43:26.008 [MessageBroker-3] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 7, active threads = 1, queued tasks = 4, completed tasks = 2]
13:43:34.216 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 ef08a087-926e-40ae-a9b1-17dde3063a81의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:43:34.228 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 ef08a087-926e-40ae-a9b1-17dde3063a81
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:43:34.231 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 ef08a087-926e-40ae-a9b1-17dde3063a81
13:43:34.232 [Test worker] INFO  c.a.c.service.SignalProtocolService - Signed pre-key 교체: 사용자 ef08a087-926e-40ae-a9b1-17dde3063a81
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        coalesce(max(sspk1_0.signed_pre_key_id), 0) 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=?
13:43:34.495 [Test worker] INFO  c.a.c.service.SignalProtocolService - Signed pre-key 교체 완료: 2
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    update
        user_keys 
    set
        created_at=?,
        device_id=?,
        expires_at=?,
        identity_private_key_encrypted=?,
        identity_public_key=?,
        pre_key_signature=?,
        registration_id=?,
        signed_pre_key=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
13:43:34.515 [Test worker] ERROR c.a.c.service.SignalProtocolService - 키 상태 조회 실패: Query did not return a unique result: 2 results were returned
org.springframework.dao.IncorrectResultSizeDataAccessException: Query did not return a unique result: 2 results were returned
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:305) ~[spring-orm-6.2.12.jar:6.2.12]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256) ~[spring-orm-6.2.12.jar:6.2.12]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244) ~[spring-orm-6.2.12.jar:6.2.12]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.util.NullnessMethodInvocationValidator.invoke(NullnessMethodInvocationValidator.java:95) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy3/jdk.proxy3.$Proxy235.findByUserIdAndIsActiveTrue(Unknown Source) ~[na:na]
	at com.august.cupid.service.SignalProtocolService.getKeyStatus(SignalProtocolService.kt:873) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.getKeyStatus(&lt;generated&gt;) ~[main/:na]
	at com.august.cupid.controller.KeyExchangeControllerTest.test rotate signed pre-key(KeyExchangeControllerTest.kt:291) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
Caused by: org.hibernate.NonUniqueResultException: Query did not return a unique result: 2 results were returned
	at org.hibernate.query.spi.AbstractSelectionQuery.uniqueElement(AbstractSelectionQuery.java:298) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:281) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226) ~[spring-data-jpa-3.5.5.jar:3.5.5]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95) ~[spring-data-jpa-3.5.5.jar:3.5.5]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160) ~[spring-data-jpa-3.5.5.jar:3.5.5]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148) ~[spring-data-jpa-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.12.jar:6.2.12]
	... 111 common frames omitted
13:43:34.521 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:43:34.521 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:43:34.521 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:43:34.521 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@407b1e86]]
13:43:34.521 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@407b1e86]
13:43:34.521 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@407b1e86]
13:43:34.521 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:43:34.521 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:43:34.521 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:43:34.534 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:43:34.539 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
13:43:34.540 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
</output>
            <output type="stderr">Expected value to be true.org.opentest4j.AssertionFailedError: Expected value to be true.
	at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:38)
	at org.junit.jupiter.api.Assertions.fail(Assertions.java:138)
	at kotlin.test.junit5.JUnit5Asserter.fail(JUnitSupport.kt:56)
	at kotlin.test.Asserter$DefaultImpls.assertTrue(Assertions.kt:652)
	at kotlin.test.junit5.JUnit5Asserter.assertTrue(JUnitSupport.kt:30)
	at kotlin.test.Asserter$DefaultImpls.assertTrue(Assertions.kt:662)
	at kotlin.test.junit5.JUnit5Asserter.assertTrue(JUnitSupport.kt:30)
	at kotlin.test.AssertionsKt__AssertionsKt.assertTrue(Assertions.kt:44)
	at kotlin.test.AssertionsKt.assertTrue(Unknown Source)
	at kotlin.test.AssertionsKt__AssertionsKt.assertTrue$default(Assertions.kt:42)
	at kotlin.test.AssertionsKt.assertTrue$default(Unknown Source)
	at com.august.cupid.controller.KeyExchangeControllerTest.test rotate signed pre-key(KeyExchangeControllerTest.kt:292)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</output>
        </test>
        <test duration="27" locationUrl="java:test://com.august.cupid.controller.KeyExchangeControllerTest/test get pre-key bundle for user without keys should return 404" name="test get pre-key bundle for user without keys should return 404" status="passed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:43:35.298 [Test worker] ERROR c.a.c.service.SignalProtocolService - Pre-key bundle 조회 실패: 사용자 d3d61cf1-a117-44af-97f2-21a9006fb437의 활성 키를 찾을 수 없습니다
java.util.NoSuchElementException: 사용자 d3d61cf1-a117-44af-97f2-21a9006fb437의 활성 키를 찾을 수 없습니다
	at com.august.cupid.service.SignalProtocolService.getPreKeyBundle(SignalProtocolService.kt:309) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.getPreKeyBundle(&lt;generated&gt;) ~[main/:na]
	at com.august.cupid.controller.KeyExchangeControllerTest.test get pre-key bundle for user without keys should return 404(KeyExchangeControllerTest.kt:203) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
13:43:35.307 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:43:35.307 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:43:35.307 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:43:35.307 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7107fb60]]
13:43:35.307 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7107fb60]
13:43:35.307 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7107fb60]
13:43:35.307 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:43:35.307 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:43:35.307 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:43:35.314 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:43:35.317 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
13:43:35.317 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
</output>
        </test>
        <test duration="12662" locationUrl="java:test://com.august.cupid.controller.KeyExchangeControllerTest/test register keys endpoint" name="test register keys endpoint" status="passed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:43:36.051 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 95580dac-132f-4f94-9b98-485c84b125fd의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:43:48.679 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 95580dac-132f-4f94-9b98-485c84b125fd의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:43:48.690 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 95580dac-132f-4f94-9b98-485c84b125fd
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:43:48.693 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 95580dac-132f-4f94-9b98-485c84b125fd
13:43:48.697 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:43:48.697 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:43:48.697 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:43:48.697 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2fbca2fe]]
13:43:48.697 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2fbca2fe]
13:43:48.697 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2fbca2fe]
13:43:48.697 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:43:48.697 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:43:48.697 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:43:48.704 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:43:48.706 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
13:43:48.707 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
</output>
        </test>
        <test duration="25062" locationUrl="java:test://com.august.cupid.controller.KeyExchangeControllerTest/test encrypt message without session should fail" name="test encrypt message without session should fail" status="failed">
            <diff actual="class java.lang.SecurityException" expected="class java.lang.IllegalStateException"/>
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:43:49.352 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 279cf694-19b4-46d8-9516-feec3f48f647의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:44:01.839 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 279cf694-19b4-46d8-9516-feec3f48f647의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:44:01.849 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 279cf694-19b4-46d8-9516-feec3f48f647
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:44:01.851 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 279cf694-19b4-46d8-9516-feec3f48f647
13:44:01.852 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 47642d69-ddd8-4658-8253-e699325eaac9의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:44:14.229 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 47642d69-ddd8-4658-8253-e699325eaac9의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:44:14.238 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 47642d69-ddd8-4658-8253-e699325eaac9
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:44:14.239 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 47642d69-ddd8-4658-8253-e699325eaac9
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:44:14.391 [Test worker] ERROR c.a.cupid.util.KeyEncryptionUtil - 개인키 복호화 실패: Tag mismatch!
13:44:14.391 [Test worker] ERROR c.a.c.service.SignalProtocolService - 메시지 암호화 실패: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
java.lang.RuntimeException: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:126) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.createProtocolStore(SignalProtocolService.kt:1053) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.access$createProtocolStore(SignalProtocolService.kt:40) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService$encryptMessage$1.invoke(SignalProtocolService.kt:536) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService$encryptMessage$1.invoke(SignalProtocolService.kt:531) ~[main/:na]
	at com.august.cupid.service.EncryptionMetricsService.recordOperation(EncryptionMetricsService.kt:262) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.encryptMessage(SignalProtocolService.kt:531) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.encryptMessage(&lt;generated&gt;) ~[main/:na]
	at com.august.cupid.service.EncryptionService$DefaultImpls.encryptMessage$default(EncryptionService.kt:75) ~[main/:na]
	at com.august.cupid.controller.KeyExchangeControllerTest.test encrypt message without session should fail(KeyExchangeControllerTest.kt:221) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
Caused by: javax.crypto.AEADBadTagException: Tag mismatch!
	at java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(GaloisCounterMode.java:1395) ~[na:na]
	at java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(GaloisCounterMode.java:406) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2205) ~[na:na]
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:123) ~[main/:na]
	... 110 common frames omitted
13:44:14.397 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:44:14.397 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:44:14.397 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:44:14.397 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@492b94f6]]
13:44:14.397 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@492b94f6]
13:44:14.397 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@492b94f6]
13:44:14.397 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:44:14.397 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:44:14.397 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:44:14.405 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:44:14.407 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown initiated...
13:44:14.407 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown completed.
</output>
            <output type="stderr">메시지 암호화 중 오류가 발생했습니다org.opentest4j.AssertionFailedError: Unexpected exception type thrown, expected: &lt;java.lang.IllegalStateException&gt; but was: &lt;java.lang.SecurityException&gt;
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:67)
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35)
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3128)
	at com.august.cupid.controller.KeyExchangeControllerTest.test encrypt message without session should fail(KeyExchangeControllerTest.kt:346)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
Caused by: java.lang.SecurityException: 메시지 암호화 중 오류가 발생했습니다
	at com.august.cupid.service.SignalProtocolService$encryptMessage$1.invoke(SignalProtocolService.kt:625)
	at com.august.cupid.service.SignalProtocolService$encryptMessage$1.invoke(SignalProtocolService.kt:531)
	at com.august.cupid.service.EncryptionMetricsService.recordOperation(EncryptionMetricsService.kt:262)
	at com.august.cupid.service.SignalProtocolService.encryptMessage(SignalProtocolService.kt:531)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.encryptMessage(&lt;generated&gt;)
	at com.august.cupid.service.EncryptionService$DefaultImpls.encryptMessage$default(EncryptionService.kt:75)
	at com.august.cupid.controller.KeyExchangeControllerTest.test encrypt message without session should fail(KeyExchangeControllerTest.kt:221)
	... 3 more
Caused by: java.lang.RuntimeException: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:126)
	at com.august.cupid.service.SignalProtocolService.createProtocolStore(SignalProtocolService.kt:1053)
	at com.august.cupid.service.SignalProtocolService.access$createProtocolStore(SignalProtocolService.kt:40)
	at com.august.cupid.service.SignalProtocolService$encryptMessage$1.invoke(SignalProtocolService.kt:536)
	... 20 more
Caused by: javax.crypto.AEADBadTagException: Tag mismatch!
	at java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(GaloisCounterMode.java:1395)
	at java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(GaloisCounterMode.java:406)
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2205)
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:123)
	... 23 more
</output>
        </test>
        <test duration="12405" locationUrl="java:test://com.august.cupid.controller.KeyExchangeControllerTest/test get key status after key generation" name="test get key status after key generation" status="passed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:44:14.980 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 e568cc82-37ac-4f8c-924f-6c11c89345d9의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:44:27.345 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 e568cc82-37ac-4f8c-924f-6c11c89345d9의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:44:27.353 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 e568cc82-37ac-4f8c-924f-6c11c89345d9
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:44:27.356 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 e568cc82-37ac-4f8c-924f-6c11c89345d9
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
13:44:27.364 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:44:27.364 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:44:27.364 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:44:27.364 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4d09fadc]]
13:44:27.364 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4d09fadc]
13:44:27.364 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4d09fadc]
13:44:27.364 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:44:27.364 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:44:27.364 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:44:27.376 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:44:27.378 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown initiated...
13:44:27.378 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown completed.
</output>
        </test>
        <test duration="16" locationUrl="java:test://com.august.cupid.controller.KeyExchangeControllerTest/test generate keys endpoint" name="test generate keys endpoint" status="passed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:44:27.991 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:44:27.991 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:44:27.991 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:44:27.991 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4600d26b]]
13:44:27.991 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4600d26b]
13:44:27.991 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4600d26b]
13:44:27.991 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:44:27.991 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:44:27.991 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:44:27.996 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:44:27.997 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown initiated...
13:44:27.998 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown completed.
</output>
        </test>
        <test duration="24867" locationUrl="java:test://com.august.cupid.controller.KeyExchangeControllerTest/test initialize session endpoint" name="test initialize session endpoint" status="failed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:44:28.525 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 2afba0e3-540a-4eb2-b366-3b706f36234f의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:44:40.892 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 2afba0e3-540a-4eb2-b366-3b706f36234f의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:44:40.900 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 2afba0e3-540a-4eb2-b366-3b706f36234f
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:44:40.902 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 2afba0e3-540a-4eb2-b366-3b706f36234f
13:44:40.903 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 334e0609-6aa2-46d5-8f5d-8389bfc2cab8의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:44:53.228 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 334e0609-6aa2-46d5-8f5d-8389bfc2cab8의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:44:53.235 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 334e0609-6aa2-46d5-8f5d-8389bfc2cab8
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:44:53.236 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 334e0609-6aa2-46d5-8f5d-8389bfc2cab8
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
13:44:53.245 [Test worker] INFO  c.a.c.service.SignalProtocolService - 세션 초기화: 2afba0e3-540a-4eb2-b366-3b706f36234f -&gt; 334e0609-6aa2-46d5-8f5d-8389bfc2cab8
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:44:53.367 [Test worker] ERROR c.a.cupid.util.KeyEncryptionUtil - 개인키 복호화 실패: Tag mismatch!
13:44:53.367 [Test worker] ERROR c.a.c.service.SignalProtocolService - 세션 초기화 실패: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
java.lang.RuntimeException: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:126) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.createProtocolStore(SignalProtocolService.kt:1053) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.access$createProtocolStore(SignalProtocolService.kt:40) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:421) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:413) ~[main/:na]
	at com.august.cupid.service.EncryptionMetricsService.recordOperation(EncryptionMetricsService.kt:262) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.initializeSession(SignalProtocolService.kt:413) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.initializeSession(&lt;generated&gt;) ~[main/:na]
	at com.august.cupid.controller.KeyExchangeControllerTest.test initialize session endpoint(KeyExchangeControllerTest.kt:186) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
Caused by: javax.crypto.AEADBadTagException: Tag mismatch!
	at java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(GaloisCounterMode.java:1395) ~[na:na]
	at java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(GaloisCounterMode.java:406) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2205) ~[na:na]
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:123) ~[main/:na]
	... 109 common frames omitted
13:44:53.372 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:44:53.372 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:44:53.372 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:44:53.372 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69079d00]]
13:44:53.372 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69079d00]
13:44:53.372 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69079d00]
13:44:53.372 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:44:53.372 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:44:53.372 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:44:53.378 [SimpleAsyncTaskExecutor-6] ERROR c.a.c.service.SecurityAuditLogger - 의심스러운 활동 체크 실패: userId=2afba0e3-540a-4eb2-b366-3b706f36234f
org.springframework.data.mongodb.ClientSessionException: state should be: server session pool is open
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.doTranslateException(MongoExceptionTranslator.java:159) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:74) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:3043) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2963) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2662) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.doFind(ExecutableFindOperationSupport.java:178) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.oneValue(ExecutableFindOperationSupport.java:113) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.lambda$getExecution$8(AbstractMongoQuery.java:239) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.doExecute(AbstractMongoQuery.java:184) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.execute(AbstractMongoQuery.java:156) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.mongodb.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:129) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.util.NullnessMethodInvocationValidator.invoke(NullnessMethodInvocationValidator.java:95) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy3/jdk.proxy3.$Proxy244.countByUserIdAndSuccessFalseAndCreatedAtAfter(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy3/jdk.proxy3.$Proxy244.countByUserIdAndSuccessFalseAndCreatedAtAfter(Unknown Source) ~[na:na]
	at com.august.cupid.service.SecurityAuditLogger.checkSuspiciousActivity(SecurityAuditLogger.kt:283) ~[main/:na]
	at com.august.cupid.service.SecurityAuditLogger.logSessionInitialization(SecurityAuditLogger.kt:124) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.12.jar:6.2.12]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: java.lang.IllegalStateException: state should be: server session pool is open
	at com.mongodb.assertions.Assertions.isTrue(Assertions.java:91) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.session.ServerSessionPool.get(ServerSessionPool.java:87) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.session.BaseClientSessionImpl.getServerSession(BaseClientSessionImpl.java:143) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.session.ClientSessionContext.getSessionId(ClientSessionContext.java:48) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.ClusterClockAdvancingSessionContext.getSessionId(ClusterClockAdvancingSessionContext.java:50) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.CommandMessage.getExtraElements(CommandMessage.java:341) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.CommandMessage.writeOpMsg(CommandMessage.java:242) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.CommandMessage.encodeMessageBodyWithMetadata(CommandMessage.java:231) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.RequestMessage.encode(RequestMessage.java:121) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.CommandMessage.encode(CommandMessage.java:70) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceiveInternal(InternalStreamConnection.java:436) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendAndReceive$0(InternalStreamConnection.java:375) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:378) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:111) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:747) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:61) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:208) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:112) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:82) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:298) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.createReadCommandAndExecute(SyncOperationHelper.java:298) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.operation.FindOperation.lambda$execute$1(FindOperation.java:299) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.lambda$withSourceAndConnection$0(SyncOperationHelper.java:131) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withSuppliedResource(SyncOperationHelper.java:156) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.lambda$withSourceAndConnection$1(SyncOperationHelper.java:130) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withSuppliedResource(SyncOperationHelper.java:156) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withSourceAndConnection(SyncOperationHelper.java:129) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.operation.FindOperation.lambda$execute$2(FindOperation.java:296) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.lambda$decorateReadWithRetries$13(SyncOperationHelper.java:317) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:67) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:307) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:70) ~[mongodb-driver-core-5.5.2.jar:na]
	at com.mongodb.client.internal.MongoClusterImpl$OperationExecutorImpl.execute(MongoClusterImpl.java:424) ~[mongodb-driver-sync-5.5.2.jar:na]
	at com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:156) ~[mongodb-driver-sync-5.5.2.jar:na]
	at com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:116) ~[mongodb-driver-sync-5.5.2.jar:na]
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2950) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	... 42 common frames omitted
13:44:53.383 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:44:53.385 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Shutdown initiated...
13:44:53.385 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Shutdown completed.
</output>
            <output type="stderr">개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.java.lang.SecurityException: 세션 초기화 중 오류가 발생했습니다
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:502)
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:413)
	at com.august.cupid.service.EncryptionMetricsService.recordOperation(EncryptionMetricsService.kt:262)
	at com.august.cupid.service.SignalProtocolService.initializeSession(SignalProtocolService.kt:413)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.initializeSession(&lt;generated&gt;)
	at com.august.cupid.controller.KeyExchangeControllerTest.test initialize session endpoint(KeyExchangeControllerTest.kt:186)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
Caused by: java.lang.RuntimeException: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:126)
	at com.august.cupid.service.SignalProtocolService.createProtocolStore(SignalProtocolService.kt:1053)
	at com.august.cupid.service.SignalProtocolService.access$createProtocolStore(SignalProtocolService.kt:40)
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:421)
	... 19 more
Caused by: javax.crypto.AEADBadTagException: Tag mismatch!
	at java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(GaloisCounterMode.java:1395)
	at java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(GaloisCounterMode.java:406)
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2205)
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:123)
	... 22 more
</output>
        </test>
        <test duration="12388" locationUrl="java:test://com.august.cupid.controller.KeyExchangeControllerTest/test get pre-key bundle endpoint" name="test get pre-key bundle endpoint" status="passed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:44:53.900 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 777c588f-2ba6-439c-ab54-9c22bc1a0c72의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:45:06.253 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 777c588f-2ba6-439c-ab54-9c22bc1a0c72의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:45:06.259 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 777c588f-2ba6-439c-ab54-9c22bc1a0c72
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:45:06.262 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 777c588f-2ba6-439c-ab54-9c22bc1a0c72
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
13:45:06.272 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:45:06.272 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:45:06.272 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:45:06.272 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@25a21299]]
13:45:06.272 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@25a21299]
13:45:06.272 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@25a21299]
13:45:06.272 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:45:06.272 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:45:06.272 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:45:06.279 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:45:06.281 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Shutdown initiated...
13:45:06.282 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Shutdown completed.
</output>
        </test>
    </suite>
    <suite duration="2407" locationUrl="java:suite://com.august.cupid.controller.MessageControllerTest" name="MessageControllerTest" status="failed">
        <test duration="425" locationUrl="java:test://com.august.cupid.controller.MessageControllerTest/edit message by non-sender should return 403" name="edit message by non-sender should return 403" status="passed">
            <output type="stdout">13:45:06.291 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: message_test_user_1764391506289
13:45:06.291 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: message_test_user_1764391506289
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:45:06.293 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:45:06.369 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:45:06.369 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:45:06.369 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: 9a9d37f4-073c-4c98-898f-e3c811bbcaf3
13:45:06.369 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:45:06.370 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: message_test_user_1764391506289 (9a9d37f4-073c-4c98-898f-e3c811bbcaf3)
13:45:06.372 [Test worker] INFO  c.a.cupid.controller.AuthController - 로그인 시도: message_test_user_1764391506289
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        and u1_0.is_active
13:45:06.452 [Test worker] INFO  c.august.cupid.service.AuthService - 로그인 성공: message_test_user_1764391506289 (9a9d37f4-073c-4c98-898f-e3c811bbcaf3)
Hibernate: 
    insert 
    into
        channels
        (created_at, creator_id, match_id, metadata, name, type, updated_at, version, id) 
    values
        (?, ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        channel_members
        (channel_id, is_active, joined_at, last_read_at, left_at, role, user_id, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    update
        users 
    set
        created_at=?,
        email=?,
        is_active=?,
        last_seen_at=?,
        metadata=cast(? as jsonb),
        password_hash=?,
        profile_image_blurhash=?,
        profile_image_metadata=cast(? as jsonb),
        profile_image_url=?,
        profile_thumbnail_url=?,
        updated_at=?,
        username=? 
    where
        id=?
Hibernate: 
    select
        cm1_0.id,
        cm1_0.channel_id,
        cm1_0.is_active,
        cm1_0.joined_at,
        cm1_0.last_read_at,
        cm1_0.left_at,
        cm1_0.role,
        cm1_0.user_id,
        cm1_0.version 
    from
        channel_members cm1_0 
    left join
        channels c1_0 
            on c1_0.id=cm1_0.channel_id 
    left join
        users u1_0 
            on u1_0.id=cm1_0.user_id 
    where
        c1_0.id=? 
        and u1_0.id=?
13:45:06.496 [Test worker] INFO  c.a.cupid.service.MessageService - 메시지 전송 완료: messageId=e8473737-e7ce-4df3-9b7c-fccbbf7fbf11, channelId=8e224fe6-f81d-4e55-97be-9245610acbd2
13:45:06.501 [Test worker] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/channel/8e224fe6-f81d-4e55-97be-9245610acbd2 session=null payload={"id":"e8473737-e7ce-4df3-9b7c-fccbbf7fbf11","channelId":"8e224fe6-f81d-4e55-97b...(truncated)
13:45:06.502 [Test worker] INFO  c.a.c.controller.MessageController - 메시지 저장 완료: messageId=e8473737-e7ce-4df3-9b7c-fccbbf7fbf11
13:45:06.507 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: other_user_1764391506504
13:45:06.507 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: other_user_1764391506504
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:45:06.510 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:45:06.589 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:45:06.589 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:45:06.589 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: d695333d-08a7-4582-a769-50c9c8726705
13:45:06.589 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:45:06.590 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: other_user_1764391506504 (d695333d-08a7-4582-a769-50c9c8726705)
13:45:06.592 [Test worker] INFO  c.a.cupid.controller.AuthController - 로그인 시도: other_user_1764391506504
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        and u1_0.is_active
13:45:06.674 [Test worker] INFO  c.august.cupid.service.AuthService - 로그인 성공: other_user_1764391506504 (d695333d-08a7-4582-a769-50c9c8726705)
13:45:06.707 [Test worker] WARN  c.a.c.e.GlobalExceptionHandler - 메시지 접근 거부: 메시지를 수정할 권한이 없습니다
</output>
        </test>
        <test duration="180" locationUrl="java:test://com.august.cupid.controller.MessageControllerTest/access to non-member channel should return 403 with proper error structure" name="access to non-member channel should return 403 with proper error structure" status="passed">
            <output type="stdout">13:45:06.717 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: message_test_user_1764391506714
13:45:06.717 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: message_test_user_1764391506714
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:45:06.719 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:45:06.794 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:45:06.794 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:45:06.794 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: 53fe7e0c-0608-4386-a452-452df1a16349
13:45:06.794 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:45:06.795 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: message_test_user_1764391506714 (53fe7e0c-0608-4386-a452-452df1a16349)
13:45:06.798 [Test worker] INFO  c.a.cupid.controller.AuthController - 로그인 시도: message_test_user_1764391506714
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        and u1_0.is_active
13:45:06.875 [Test worker] INFO  c.august.cupid.service.AuthService - 로그인 성공: message_test_user_1764391506714 (53fe7e0c-0608-4386-a452-452df1a16349)
Hibernate: 
    insert 
    into
        channels
        (created_at, creator_id, match_id, metadata, name, type, updated_at, version, id) 
    values
        (?, ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        channel_members
        (channel_id, is_active, joined_at, last_read_at, left_at, role, user_id, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        channels
        (created_at, creator_id, match_id, metadata, name, type, updated_at, version, id) 
    values
        (?, ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    update
        users 
    set
        created_at=?,
        email=?,
        is_active=?,
        last_seen_at=?,
        metadata=cast(? as jsonb),
        password_hash=?,
        profile_image_blurhash=?,
        profile_image_metadata=cast(? as jsonb),
        profile_image_url=?,
        profile_thumbnail_url=?,
        updated_at=?,
        username=? 
    where
        id=?
Hibernate: 
    select
        cm1_0.id,
        cm1_0.channel_id,
        cm1_0.is_active,
        cm1_0.joined_at,
        cm1_0.last_read_at,
        cm1_0.left_at,
        cm1_0.role,
        cm1_0.user_id,
        cm1_0.version 
    from
        channel_members cm1_0 
    left join
        channels c1_0 
            on c1_0.id=cm1_0.channel_id 
    left join
        users u1_0 
            on u1_0.id=cm1_0.user_id 
    where
        c1_0.id=? 
        and u1_0.id=?
13:45:06.888 [Test worker] WARN  c.a.c.e.GlobalExceptionHandler - 채널 접근 거부: 채널에 접근할 권한이 없습니다
</output>
        </test>
        <test duration="180" locationUrl="java:test://com.august.cupid.controller.MessageControllerTest/request with invalid token should return 401 Unauthorized" name="request with invalid token should return 401 Unauthorized" status="failed">
            <diff actual="403" expected="401"/>
            <output type="stdout">13:45:06.898 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: message_test_user_1764391506895
13:45:06.898 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: message_test_user_1764391506895
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:45:06.903 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:45:06.985 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:45:06.985 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:45:06.985 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: ec55f34f-c84f-4e38-93aa-33d18439dcb6
13:45:06.985 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:45:06.986 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: message_test_user_1764391506895 (ec55f34f-c84f-4e38-93aa-33d18439dcb6)
13:45:06.988 [Test worker] INFO  c.a.cupid.controller.AuthController - 로그인 시도: message_test_user_1764391506895
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        and u1_0.is_active
13:45:07.065 [Test worker] INFO  c.august.cupid.service.AuthService - 로그인 성공: message_test_user_1764391506895 (ec55f34f-c84f-4e38-93aa-33d18439dcb6)
13:45:07.068 [Test worker] ERROR com.august.cupid.util.JwtUtil - Access Token 유효성 검증 실패: JWT strings must contain exactly 2 period characters. Found: 0
io.jsonwebtoken.MalformedJwtException: JWT strings must contain exactly 2 period characters. Found: 0
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:275) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at com.august.cupid.util.JwtUtil.getClaimsFromToken(JwtUtil.kt:218) ~[main/:na]
	at com.august.cupid.util.JwtUtil.validateAccessToken(JwtUtil.kt:139) ~[main/:na]
	at com.august.cupid.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.kt:48) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.6.jar:6.5.6]
	at com.august.cupid.security.RateLimitFilter.doFilterInternal(RateLimitFilter.kt:44) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.6.jar:6.5.6]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.6.jar:6.5.6]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.6.jar:6.5.6]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.12.jar:6.2.12]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.12.jar:6.2.12]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.12.jar:6.2.12]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.12.jar:6.2.12]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.12.jar:6.2.12]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162) ~[spring-test-6.2.12.jar:6.2.12]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.2.12.jar:6.2.12]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.2.12.jar:6.2.12]
	at com.august.cupid.controller.MessageControllerTest.request with invalid token should return 401 Unauthorized(MessageControllerTest.kt:126) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/auth/register
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"149"]
             Body = {"username":"message_test_user_1764391506895","email":"message_1764391506895@example.com","password":"password123","profileImageUrl":null,"bio":null}
    Session Attrs = {}
Handler:
             Type = com.august.cupid.controller.AuthController
           Method = com.august.cupid.controller.AuthController#register(CreateUserRequest)
Async:
    Async started = false
     Async result = null
Resolved Exception:
             Type = null
ModelAndView:
        View name = null
             View = null
            Model = null
FlashMap:
       Attributes = null
MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"success":true,"data":{"id":"ec55f34f-c84f-4e38-93aa-33d18439dcb6","username":"message_test_user_1764391506895","email":"message_1764391506895@example.com","profileImageUrl":null,"bio":null,"createdAt":"2025-11-29T13:45:06.985708","lastSeenAt":null,"active":true},"message":"사용자가 성공적으로 생성되었습니다","error":null,"errorCode":null,"validationErrors":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/auth/login
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"71"]
             Body = {"username":"message_test_user_1764391506895","password":"password123"}
    Session Attrs = {}
Handler:
             Type = com.august.cupid.controller.AuthController
           Method = com.august.cupid.controller.AuthController#login(LoginRequest)
Async:
    Async started = false
     Async result = null
Resolved Exception:
             Type = null
ModelAndView:
        View name = null
             View = null
            Model = null
FlashMap:
       Attributes = null
MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"success":true,"data":{"accessToken":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlYzU1ZjM0Zi1jODRmLTRlMzgtOTNhYS0zM2QxODQzOWRjYjYiLCJ1c2VybmFtZSI6Im1lc3NhZ2VfdGVzdF91c2VyXzE3NjQzOTE1MDY4OTUiLCJlbWFpbCI6Im1lc3NhZ2VfMTc2NDM5MTUwNjg5NUBleGFtcGxlLmNvbSIsInRva2VuVHlwZSI6IkFDQ0VTUyIsImlhdCI6MTc2NDM5MTUwNywiZXhwIjoxNzY0NDc3OTA3fQ.UwSfxQqhB6ZeE5tg3FoMMJtj_GhCYv7DFIBVdavCWkJdTZ5jSa_NloKCRtla3IMIPgX3qvY7h14kAGLuwbtXvg","refreshToken":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlYzU1ZjM0Zi1jODRmLTRlMzgtOTNhYS0zM2QxODQzOWRjYjYiLCJ0b2tlblR5cGUiOiJSRUZSRVNIIiwiaWF0IjoxNzY0MzkxNTA3LCJleHAiOjE3NjQ5OTYzMDd9.uC_pAZwDkTcymtlckyAHYz1zaltIxdhKjW2YP9xpaApoCK5XUhXtqMCSIkXxrRh6TXh_PgpgZloU4_TtYjJN-Q","tokenType":"Bearer","expiresIn":86399935,"user":{"id":"ec55f34f-c84f-4e38-93aa-33d18439dcb6","username":"message_test_user_1764391506895","email":"message_1764391506895@example.com","profileImageUrl":null,"bio":null,"createdAt":"2025-11-29T13:45:06.985708","lastSeenAt":"2025-11-29T13:45:07.065482","active":true}},"message":"로그인이 성공적으로 완료되었습니다","error":null,"errorCode":null,"validationErrors":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/v1/chat/channels/428f97a0-cf02-4cd4-9225-fd6807e78ef7/messages
       Parameters = {}
          Headers = [Authorization:"Bearer invalid-token"]
             Body = null
    Session Attrs = {}
Handler:
             Type = null
Async:
    Async started = false
     Async result = null
Resolved Exception:
             Type = null
ModelAndView:
        View name = null
             View = null
            Model = null
FlashMap:
       Attributes = null
MockHttpServletResponse:
           Status = 403
    Error message = Forbidden
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
</output>
            <output type="stderr">Statusjava.lang.AssertionError: Status expected:&lt;401&gt; but was:&lt;403&gt;
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.august.cupid.controller.MessageControllerTest.request with invalid token should return 401 Unauthorized(MessageControllerTest.kt:128)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</output>
        </test>
        <test duration="164" locationUrl="java:test://com.august.cupid.controller.MessageControllerTest/request without token should return 401 Unauthorized" name="request without token should return 401 Unauthorized" status="failed">
            <diff actual="403" expected="401"/>
            <output type="stdout">13:45:07.077 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: message_test_user_1764391507076
13:45:07.077 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: message_test_user_1764391507076
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:45:07.078 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:45:07.153 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:45:07.153 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:45:07.153 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: 8cf20212-44cf-4a86-a78c-7040ce21e2d8
13:45:07.154 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:45:07.154 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: message_test_user_1764391507076 (8cf20212-44cf-4a86-a78c-7040ce21e2d8)
13:45:07.157 [Test worker] INFO  c.a.cupid.controller.AuthController - 로그인 시도: message_test_user_1764391507076
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        and u1_0.is_active
13:45:07.235 [Test worker] INFO  c.august.cupid.service.AuthService - 로그인 성공: message_test_user_1764391507076 (8cf20212-44cf-4a86-a78c-7040ce21e2d8)
MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/auth/register
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"149"]
             Body = {"username":"message_test_user_1764391507076","email":"message_1764391507076@example.com","password":"password123","profileImageUrl":null,"bio":null}
    Session Attrs = {}
Handler:
             Type = com.august.cupid.controller.AuthController
           Method = com.august.cupid.controller.AuthController#register(CreateUserRequest)
Async:
    Async started = false
     Async result = null
Resolved Exception:
             Type = null
ModelAndView:
        View name = null
             View = null
            Model = null
FlashMap:
       Attributes = null
MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"success":true,"data":{"id":"8cf20212-44cf-4a86-a78c-7040ce21e2d8","username":"message_test_user_1764391507076","email":"message_1764391507076@example.com","profileImageUrl":null,"bio":null,"createdAt":"2025-11-29T13:45:07.153967","lastSeenAt":null,"active":true},"message":"사용자가 성공적으로 생성되었습니다","error":null,"errorCode":null,"validationErrors":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/auth/login
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"71"]
             Body = {"username":"message_test_user_1764391507076","password":"password123"}
    Session Attrs = {}
Handler:
             Type = com.august.cupid.controller.AuthController
           Method = com.august.cupid.controller.AuthController#login(LoginRequest)
Async:
    Async started = false
     Async result = null
Resolved Exception:
             Type = null
ModelAndView:
        View name = null
             View = null
            Model = null
FlashMap:
       Attributes = null
MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"success":true,"data":{"accessToken":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI4Y2YyMDIxMi00NGNmLTRhODYtYTc4Yy03MDQwY2UyMWUyZDgiLCJ1c2VybmFtZSI6Im1lc3NhZ2VfdGVzdF91c2VyXzE3NjQzOTE1MDcwNzYiLCJlbWFpbCI6Im1lc3NhZ2VfMTc2NDM5MTUwNzA3NkBleGFtcGxlLmNvbSIsInRva2VuVHlwZSI6IkFDQ0VTUyIsImlhdCI6MTc2NDM5MTUwNywiZXhwIjoxNzY0NDc3OTA3fQ.oPHxftE9F8Qxq_Z1DUxZRXEVoHDiVcMKkPPI3SCGN_l5A37yKRvjlWyKYRlqEhpXmj7Ph2Yc3QjBrX2QT6PnAg","refreshToken":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI4Y2YyMDIxMi00NGNmLTRhODYtYTc4Yy03MDQwY2UyMWUyZDgiLCJ0b2tlblR5cGUiOiJSRUZSRVNIIiwiaWF0IjoxNzY0MzkxNTA3LCJleHAiOjE3NjQ5OTYzMDd9.2AWj4SHiTMap7m189NgrCuFFYH4-d5NUJ5CQvPEDpKjET_lJRc5p-_UgIWM9xBuf36Lg6hNsCgc9dpHmSlRVLA","tokenType":"Bearer","expiresIn":86399766,"user":{"id":"8cf20212-44cf-4a86-a78c-7040ce21e2d8","username":"message_test_user_1764391507076","email":"message_1764391507076@example.com","profileImageUrl":null,"bio":null,"createdAt":"2025-11-29T13:45:07.153967","lastSeenAt":"2025-11-29T13:45:07.234817","active":true}},"message":"로그인이 성공적으로 완료되었습니다","error":null,"errorCode":null,"validationErrors":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/v1/chat/channels/a84f0b29-74ff-4684-a31b-65f5707a7f01/messages
       Parameters = {}
          Headers = []
             Body = null
    Session Attrs = {}
Handler:
             Type = null
Async:
    Async started = false
     Async result = null
Resolved Exception:
             Type = null
ModelAndView:
        View name = null
             View = null
            Model = null
FlashMap:
       Attributes = null
MockHttpServletResponse:
           Status = 403
    Error message = Forbidden
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
</output>
            <output type="stderr">Statusjava.lang.AssertionError: Status expected:&lt;401&gt; but was:&lt;403&gt;
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.august.cupid.controller.MessageControllerTest.request without token should return 401 Unauthorized(MessageControllerTest.kt:121)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</output>
        </test>
        <test duration="213" locationUrl="java:test://com.august.cupid.controller.MessageControllerTest/markAsRead should return success for valid message" name="markAsRead should return success for valid message" status="passed">
            <output type="stdout">13:45:07.242 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: message_test_user_1764391507241
13:45:07.242 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: message_test_user_1764391507241
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:45:07.244 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:45:07.319 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:45:07.320 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:45:07.320 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: c498d9a6-e3bb-4cb6-88eb-1550bdf71b09
13:45:07.320 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:45:07.320 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: message_test_user_1764391507241 (c498d9a6-e3bb-4cb6-88eb-1550bdf71b09)
13:45:07.322 [Test worker] INFO  c.a.cupid.controller.AuthController - 로그인 시도: message_test_user_1764391507241
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        and u1_0.is_active
13:45:07.401 [Test worker] INFO  c.august.cupid.service.AuthService - 로그인 성공: message_test_user_1764391507241 (c498d9a6-e3bb-4cb6-88eb-1550bdf71b09)
Hibernate: 
    insert 
    into
        channels
        (created_at, creator_id, match_id, metadata, name, type, updated_at, version, id) 
    values
        (?, ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        channel_members
        (channel_id, is_active, joined_at, last_read_at, left_at, role, user_id, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    update
        users 
    set
        created_at=?,
        email=?,
        is_active=?,
        last_seen_at=?,
        metadata=cast(? as jsonb),
        password_hash=?,
        profile_image_blurhash=?,
        profile_image_metadata=cast(? as jsonb),
        profile_image_url=?,
        profile_thumbnail_url=?,
        updated_at=?,
        username=? 
    where
        id=?
Hibernate: 
    select
        cm1_0.id,
        cm1_0.channel_id,
        cm1_0.is_active,
        cm1_0.joined_at,
        cm1_0.last_read_at,
        cm1_0.left_at,
        cm1_0.role,
        cm1_0.user_id,
        cm1_0.version 
    from
        channel_members cm1_0 
    left join
        channels c1_0 
            on c1_0.id=cm1_0.channel_id 
    left join
        users u1_0 
            on u1_0.id=cm1_0.user_id 
    where
        c1_0.id=? 
        and u1_0.id=?
13:45:07.410 [Test worker] INFO  c.a.cupid.service.MessageService - 메시지 전송 완료: messageId=ae9b90f2-d78c-42c4-8c99-7d322a3913fa, channelId=e82d6eab-c243-48d0-a7bc-791f4453944f
13:45:07.411 [Test worker] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/channel/e82d6eab-c243-48d0-a7bc-791f4453944f session=null payload={"id":"ae9b90f2-d78c-42c4-8c99-7d322a3913fa","channelId":"e82d6eab-c243-48d0-a7b...(truncated)
13:45:07.411 [Test worker] INFO  c.a.c.controller.MessageController - 메시지 저장 완료: messageId=ae9b90f2-d78c-42c4-8c99-7d322a3913fa
Hibernate: 
    select
        cm1_0.id,
        cm1_0.channel_id,
        cm1_0.is_active,
        cm1_0.joined_at,
        cm1_0.last_read_at,
        cm1_0.left_at,
        cm1_0.role,
        cm1_0.user_id,
        cm1_0.version 
    from
        channel_members cm1_0 
    left join
        channels c1_0 
            on c1_0.id=cm1_0.channel_id 
    left join
        users u1_0 
            on u1_0.id=cm1_0.user_id 
    where
        c1_0.id=? 
        and u1_0.id=?
Hibernate: 
    select
        cm1_0.id,
        cm1_0.channel_id,
        cm1_0.is_active,
        cm1_0.joined_at,
        cm1_0.last_read_at,
        cm1_0.left_at,
        cm1_0.role,
        cm1_0.user_id,
        cm1_0.version 
    from
        channel_members cm1_0 
    left join
        channels c1_0 
            on c1_0.id=cm1_0.channel_id 
    left join
        users u1_0 
            on u1_0.id=cm1_0.user_id 
    where
        c1_0.id=? 
        and u1_0.id=?
</output>
        </test>
        <test duration="168" locationUrl="java:test://com.august.cupid.controller.MessageControllerTest/get non-existent message should return 404" name="get non-existent message should return 404" status="passed">
            <output type="stdout">13:45:07.456 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: message_test_user_1764391507455
13:45:07.456 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: message_test_user_1764391507455
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:45:07.457 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:45:07.532 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:45:07.532 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:45:07.532 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: 5db2a0c0-b7d3-42a6-a48e-bc83f68f53bd
13:45:07.532 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:45:07.533 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: message_test_user_1764391507455 (5db2a0c0-b7d3-42a6-a48e-bc83f68f53bd)
13:45:07.535 [Test worker] INFO  c.a.cupid.controller.AuthController - 로그인 시도: message_test_user_1764391507455
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        and u1_0.is_active
13:45:07.613 [Test worker] INFO  c.august.cupid.service.AuthService - 로그인 성공: message_test_user_1764391507455 (5db2a0c0-b7d3-42a6-a48e-bc83f68f53bd)
</output>
        </test>
        <test duration="212" locationUrl="java:test://com.august.cupid.controller.MessageControllerTest/full message lifecycle - create, read, update, delete" name="full message lifecycle - create, read, update, delete" status="passed">
            <output type="stdout">13:45:07.624 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: message_test_user_1764391507623
13:45:07.625 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: message_test_user_1764391507623
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:45:07.626 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:45:07.702 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:45:07.702 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:45:07.702 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: 85176318-7715-414d-a5d2-3fc7e6ee69f0
13:45:07.702 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:45:07.703 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: message_test_user_1764391507623 (85176318-7715-414d-a5d2-3fc7e6ee69f0)
13:45:07.705 [Test worker] INFO  c.a.cupid.controller.AuthController - 로그인 시도: message_test_user_1764391507623
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        and u1_0.is_active
13:45:07.782 [Test worker] INFO  c.august.cupid.service.AuthService - 로그인 성공: message_test_user_1764391507623 (85176318-7715-414d-a5d2-3fc7e6ee69f0)
Hibernate: 
    insert 
    into
        channels
        (created_at, creator_id, match_id, metadata, name, type, updated_at, version, id) 
    values
        (?, ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        channel_members
        (channel_id, is_active, joined_at, last_read_at, left_at, role, user_id, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    update
        users 
    set
        created_at=?,
        email=?,
        is_active=?,
        last_seen_at=?,
        metadata=cast(? as jsonb),
        password_hash=?,
        profile_image_blurhash=?,
        profile_image_metadata=cast(? as jsonb),
        profile_image_url=?,
        profile_thumbnail_url=?,
        updated_at=?,
        username=? 
    where
        id=?
Hibernate: 
    select
        cm1_0.id,
        cm1_0.channel_id,
        cm1_0.is_active,
        cm1_0.joined_at,
        cm1_0.last_read_at,
        cm1_0.left_at,
        cm1_0.role,
        cm1_0.user_id,
        cm1_0.version 
    from
        channel_members cm1_0 
    left join
        channels c1_0 
            on c1_0.id=cm1_0.channel_id 
    left join
        users u1_0 
            on u1_0.id=cm1_0.user_id 
    where
        c1_0.id=? 
        and u1_0.id=?
13:45:07.792 [Test worker] INFO  c.a.cupid.service.MessageService - 메시지 전송 완료: messageId=f242d577-a5ea-48da-90c6-985afe556c5c, channelId=49a26a15-3b1d-45ba-9877-eff1857cf96b
13:45:07.792 [Test worker] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/channel/49a26a15-3b1d-45ba-9877-eff1857cf96b session=null payload={"id":"f242d577-a5ea-48da-90c6-985afe556c5c","channelId":"49a26a15-3b1d-45ba-987...(truncated)
13:45:07.792 [Test worker] INFO  c.a.c.controller.MessageController - 메시지 저장 완료: messageId=f242d577-a5ea-48da-90c6-985afe556c5c
Hibernate: 
    select
        cm1_0.id,
        cm1_0.channel_id,
        cm1_0.is_active,
        cm1_0.joined_at,
        cm1_0.last_read_at,
        cm1_0.left_at,
        cm1_0.role,
        cm1_0.user_id,
        cm1_0.version 
    from
        channel_members cm1_0 
    left join
        channels c1_0 
            on c1_0.id=cm1_0.channel_id 
    left join
        users u1_0 
            on u1_0.id=cm1_0.user_id 
    where
        c1_0.id=? 
        and u1_0.id=?
13:45:07.816 [Test worker] INFO  c.a.cupid.service.MessageService - 메시지 수정 완료: messageId=f242d577-a5ea-48da-90c6-985afe556c5c
13:45:07.825 [Test worker] INFO  c.a.cupid.service.MessageService - 메시지 삭제 완료: messageId=f242d577-a5ea-48da-90c6-985afe556c5c
Hibernate: 
    select
        cm1_0.id,
        cm1_0.channel_id,
        cm1_0.is_active,
        cm1_0.joined_at,
        cm1_0.last_read_at,
        cm1_0.left_at,
        cm1_0.role,
        cm1_0.user_id,
        cm1_0.version 
    from
        channel_members cm1_0 
    left join
        channels c1_0 
            on c1_0.id=cm1_0.channel_id 
    left join
        users u1_0 
            on u1_0.id=cm1_0.user_id 
    where
        c1_0.id=? 
        and u1_0.id=?
</output>
        </test>
        <test duration="171" locationUrl="java:test://com.august.cupid.controller.MessageControllerTest/request with valid token should use @CurrentUser correctly" name="request with valid token should use @CurrentUser correctly" status="passed">
            <output type="stdout">13:45:07.837 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: message_test_user_1764391507835
13:45:07.837 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: message_test_user_1764391507835
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:45:07.838 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:45:07.914 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:45:07.914 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:45:07.914 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: be45ce69-21d8-47bb-a7e8-0c42bd53d34e
13:45:07.914 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:45:07.915 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: message_test_user_1764391507835 (be45ce69-21d8-47bb-a7e8-0c42bd53d34e)
13:45:07.917 [Test worker] INFO  c.a.cupid.controller.AuthController - 로그인 시도: message_test_user_1764391507835
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        and u1_0.is_active
13:45:07.995 [Test worker] INFO  c.august.cupid.service.AuthService - 로그인 성공: message_test_user_1764391507835 (be45ce69-21d8-47bb-a7e8-0c42bd53d34e)
Hibernate: 
    insert 
    into
        channels
        (created_at, creator_id, match_id, metadata, name, type, updated_at, version, id) 
    values
        (?, ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        channel_members
        (channel_id, is_active, joined_at, last_read_at, left_at, role, user_id, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    update
        users 
    set
        created_at=?,
        email=?,
        is_active=?,
        last_seen_at=?,
        metadata=cast(? as jsonb),
        password_hash=?,
        profile_image_blurhash=?,
        profile_image_metadata=cast(? as jsonb),
        profile_image_url=?,
        profile_thumbnail_url=?,
        updated_at=?,
        username=? 
    where
        id=?
Hibernate: 
    select
        cm1_0.id,
        cm1_0.channel_id,
        cm1_0.is_active,
        cm1_0.joined_at,
        cm1_0.last_read_at,
        cm1_0.left_at,
        cm1_0.role,
        cm1_0.user_id,
        cm1_0.version 
    from
        channel_members cm1_0 
    left join
        channels c1_0 
            on c1_0.id=cm1_0.channel_id 
    left join
        users u1_0 
            on u1_0.id=cm1_0.user_id 
    where
        c1_0.id=? 
        and u1_0.id=?
</output>
        </test>
        <test duration="175" locationUrl="java:test://com.august.cupid.controller.MessageControllerTest/sendMessage should return typed ApiResponse with MessageResponse" name="sendMessage should return typed ApiResponse with MessageResponse" status="passed">
            <output type="stdout">13:45:08.009 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: message_test_user_1764391508007
13:45:08.009 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: message_test_user_1764391508007
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:45:08.010 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:45:08.085 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:45:08.086 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:45:08.086 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: bd61b1b4-6859-499f-8083-986374a924fa
13:45:08.086 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:45:08.086 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: message_test_user_1764391508007 (bd61b1b4-6859-499f-8083-986374a924fa)
13:45:08.089 [Test worker] INFO  c.a.cupid.controller.AuthController - 로그인 시도: message_test_user_1764391508007
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        and u1_0.is_active
13:45:08.167 [Test worker] INFO  c.august.cupid.service.AuthService - 로그인 성공: message_test_user_1764391508007 (bd61b1b4-6859-499f-8083-986374a924fa)
Hibernate: 
    insert 
    into
        channels
        (created_at, creator_id, match_id, metadata, name, type, updated_at, version, id) 
    values
        (?, ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        channel_members
        (channel_id, is_active, joined_at, last_read_at, left_at, role, user_id, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    update
        users 
    set
        created_at=?,
        email=?,
        is_active=?,
        last_seen_at=?,
        metadata=cast(? as jsonb),
        password_hash=?,
        profile_image_blurhash=?,
        profile_image_metadata=cast(? as jsonb),
        profile_image_url=?,
        profile_thumbnail_url=?,
        updated_at=?,
        username=? 
    where
        id=?
Hibernate: 
    select
        cm1_0.id,
        cm1_0.channel_id,
        cm1_0.is_active,
        cm1_0.joined_at,
        cm1_0.last_read_at,
        cm1_0.left_at,
        cm1_0.role,
        cm1_0.user_id,
        cm1_0.version 
    from
        channel_members cm1_0 
    left join
        channels c1_0 
            on c1_0.id=cm1_0.channel_id 
    left join
        users u1_0 
            on u1_0.id=cm1_0.user_id 
    where
        c1_0.id=? 
        and u1_0.id=?
13:45:08.177 [Test worker] INFO  c.a.cupid.service.MessageService - 메시지 전송 완료: messageId=4c7ab289-3214-47a0-816d-fa5debff2e6b, channelId=e808b463-3043-47a3-8d33-c7e4a33f4e8b
13:45:08.177 [Test worker] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/channel/e808b463-3043-47a3-8d33-c7e4a33f4e8b session=null payload={"id":"4c7ab289-3214-47a0-816d-fa5debff2e6b","channelId":"e808b463-3043-47a3-8d3...(truncated)
13:45:08.177 [Test worker] INFO  c.a.c.controller.MessageController - 메시지 저장 완료: messageId=4c7ab289-3214-47a0-816d-fa5debff2e6b
</output>
        </test>
        <test duration="178" locationUrl="java:test://com.august.cupid.controller.MessageControllerTest/getUnreadCount should return typed ApiResponse with Long" name="getUnreadCount should return typed ApiResponse with Long" status="passed">
            <output type="stdout">13:45:08.182 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: message_test_user_1764391508181
13:45:08.182 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: message_test_user_1764391508181
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:45:08.183 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:45:08.258 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:45:08.259 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:45:08.259 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: c682804f-8cd6-44b2-bcf0-868450ae8c2e
13:45:08.259 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:45:08.259 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: message_test_user_1764391508181 (c682804f-8cd6-44b2-bcf0-868450ae8c2e)
13:45:08.261 [Test worker] INFO  c.a.cupid.controller.AuthController - 로그인 시도: message_test_user_1764391508181
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        and u1_0.is_active
13:45:08.341 [Test worker] INFO  c.august.cupid.service.AuthService - 로그인 성공: message_test_user_1764391508181 (c682804f-8cd6-44b2-bcf0-868450ae8c2e)
Hibernate: 
    insert 
    into
        channels
        (created_at, creator_id, match_id, metadata, name, type, updated_at, version, id) 
    values
        (?, ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        channel_members
        (channel_id, is_active, joined_at, last_read_at, left_at, role, user_id, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    update
        users 
    set
        created_at=?,
        email=?,
        is_active=?,
        last_seen_at=?,
        metadata=cast(? as jsonb),
        password_hash=?,
        profile_image_blurhash=?,
        profile_image_metadata=cast(? as jsonb),
        profile_image_url=?,
        profile_thumbnail_url=?,
        updated_at=?,
        username=? 
    where
        id=?
Hibernate: 
    select
        cm1_0.id,
        cm1_0.channel_id,
        cm1_0.is_active,
        cm1_0.joined_at,
        cm1_0.last_read_at,
        cm1_0.left_at,
        cm1_0.role,
        cm1_0.user_id,
        cm1_0.version 
    from
        channel_members cm1_0 
    left join
        channels c1_0 
            on c1_0.id=cm1_0.channel_id 
    left join
        users u1_0 
            on u1_0.id=cm1_0.user_id 
    where
        c1_0.id=? 
        and u1_0.id=?
</output>
        </test>
        <test duration="169" locationUrl="java:test://com.august.cupid.controller.MessageControllerTest/invalid UUID in path should return 400 Bad Request" name="invalid UUID in path should return 400 Bad Request" status="passed">
            <output type="stdout">13:45:08.361 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: message_test_user_1764391508360
13:45:08.361 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: message_test_user_1764391508360
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:45:08.362 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:45:08.438 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:45:08.438 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:45:08.438 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: 8ff051fd-246a-420f-aed4-5d0beb5768e6
13:45:08.438 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:45:08.439 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: message_test_user_1764391508360 (8ff051fd-246a-420f-aed4-5d0beb5768e6)
13:45:08.441 [Test worker] INFO  c.a.cupid.controller.AuthController - 로그인 시도: message_test_user_1764391508360
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        and u1_0.is_active
13:45:08.517 [Test worker] INFO  c.august.cupid.service.AuthService - 로그인 성공: message_test_user_1764391508360 (8ff051fd-246a-420f-aed4-5d0beb5768e6)
13:45:08.525 [Test worker] WARN  c.a.c.e.GlobalExceptionHandler - 타입 불일치: channelId = not-a-uuid, 예상 타입: UUID
</output>
        </test>
        <test duration="172" locationUrl="java:test://com.august.cupid.controller.MessageControllerTest/getChannelMessages should return typed ApiResponse with PagedResponse" name="getChannelMessages should return typed ApiResponse with PagedResponse" status="passed">
            <output type="stdout">13:45:08.531 [Test worker] INFO  c.a.cupid.controller.AuthController - 회원가입 시도: message_test_user_1764391508530
13:45:08.531 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 시작: message_test_user_1764391508530
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
13:45:08.532 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 시작
13:45:08.607 [Test worker] INFO  c.august.cupid.service.UserService - 비밀번호 암호화 완료
13:45:08.608 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 시작
13:45:08.608 [Test worker] INFO  c.august.cupid.service.UserService - User 객체 생성 완료: a5b01d6e-6df2-4846-943c-c3ddd8139933
13:45:08.608 [Test worker] INFO  c.august.cupid.service.UserService - 데이터베이스 저장 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:45:08.608 [Test worker] INFO  c.august.cupid.service.UserService - 사용자 생성 완료: message_test_user_1764391508530 (a5b01d6e-6df2-4846-943c-c3ddd8139933)
13:45:08.611 [Test worker] INFO  c.a.cupid.controller.AuthController - 로그인 시도: message_test_user_1764391508530
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        and u1_0.is_active
13:45:08.689 [Test worker] INFO  c.august.cupid.service.AuthService - 로그인 성공: message_test_user_1764391508530 (a5b01d6e-6df2-4846-943c-c3ddd8139933)
Hibernate: 
    insert 
    into
        channels
        (created_at, creator_id, match_id, metadata, name, type, updated_at, version, id) 
    values
        (?, ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        channel_members
        (channel_id, is_active, joined_at, last_read_at, left_at, role, user_id, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    update
        users 
    set
        created_at=?,
        email=?,
        is_active=?,
        last_seen_at=?,
        metadata=cast(? as jsonb),
        password_hash=?,
        profile_image_blurhash=?,
        profile_image_metadata=cast(? as jsonb),
        profile_image_url=?,
        profile_thumbnail_url=?,
        updated_at=?,
        username=? 
    where
        id=?
Hibernate: 
    select
        cm1_0.id,
        cm1_0.channel_id,
        cm1_0.is_active,
        cm1_0.joined_at,
        cm1_0.last_read_at,
        cm1_0.left_at,
        cm1_0.role,
        cm1_0.user_id,
        cm1_0.version 
    from
        channel_members cm1_0 
    left join
        channels c1_0 
            on c1_0.id=cm1_0.channel_id 
    left join
        users u1_0 
            on u1_0.id=cm1_0.user_id 
    where
        c1_0.id=? 
        and u1_0.id=?
</output>
        </test>
    </suite>
    <suite duration="503" locationUrl="java:suite://com.august.cupid.exception.GlobalExceptionHandlerTest" name="GlobalExceptionHandlerTest" status="failed">
        <test duration="140" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleAccessDeniedException should return 403 with error details" name="handleAccessDeniedException should return 403 with error details" status="passed">
            <output type="stdout">13:45:08.835 [Test worker] WARN  c.a.c.e.GlobalExceptionHandler - 접근 거부: 접근 권한이 없습니다, resourceType=channel, resourceId=bbb8219f-1597-4e8e-8e06-1305bfc32ae6
</output>
        </test>
        <test duration="6" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleIllegalArgumentException should return 400" name="handleIllegalArgumentException should return 400" status="passed">
            <output type="stdout">13:45:08.850 [Test worker] WARN  c.a.c.e.GlobalExceptionHandler - 잘못된 입력: 잘못된 입력값입니다
</output>
        </test>
        <test duration="6" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleMessageAccessDeniedException should return 403" name="handleMessageAccessDeniedException should return 403" status="passed">
            <output type="stdout">13:45:08.859 [Test worker] WARN  c.a.c.e.GlobalExceptionHandler - 메시지 접근 거부: 메시지를 수정할 권한이 없습니다
</output>
        </test>
        <test duration="6" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleChannelAccessDeniedException should return 403" name="handleChannelAccessDeniedException should return 403" status="passed">
            <output type="stdout">13:45:08.867 [Test worker] WARN  c.a.c.e.GlobalExceptionHandler - 채널 접근 거부: 채널에 접근할 권한이 없습니다
</output>
        </test>
        <test duration="4" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleInvalidTokenException should return 401" name="handleInvalidTokenException should return 401" status="passed">
            <output type="stdout">13:45:08.874 [Test worker] WARN  c.a.c.e.GlobalExceptionHandler - 유효하지 않은 토큰: 토큰이 만료되었습니다
</output>
        </test>
        <test duration="124" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleTypeMismatchException should return 400 for invalid UUID" name="handleTypeMismatchException should return 400 for invalid UUID" status="passed">
            <output type="stdout">13:45:09.001 [Test worker] WARN  c.a.c.e.GlobalExceptionHandler - 타입 불일치: channelId = not-a-uuid, 예상 타입: UUID
</output>
        </test>
        <test duration="1" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleBusinessException should correctly handle custom BusinessException" name="handleBusinessException should correctly handle custom BusinessException" status="passed">
            <output type="stdout">13:45:09.003 [Test worker] WARN  c.a.c.e.GlobalExceptionHandler - 비즈니스 예외 발생: CUSTOM_ERROR - 커스텀 비즈니스 오류
</output>
        </test>
        <test duration="1" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleBadRequestException should return 400" name="handleBadRequestException should return 400" status="passed">
            <output type="stdout">13:45:09.005 [Test worker] WARN  c.a.c.e.GlobalExceptionHandler - 잘못된 요청: 잘못된 요청입니다, field=channelId
</output>
        </test>
        <test duration="185" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleValidationException should return 400 with validation errors" name="handleValidationException should return 400 with validation errors" status="passed">
            <output type="stdout">13:45:09.190 [Test worker] WARN  c.a.c.e.GlobalExceptionHandler - 입력값 검증 실패: username: 사용자명은 필수입니다, email: 이메일 형식이 올바르지 않습니다
</output>
        </test>
        <test duration="0" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleChannelNotFoundException should return 404 with error details" name="handleChannelNotFoundException should return 404 with error details" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleMessageNotFoundException should return 404" name="handleMessageNotFoundException should return 404" status="passed"/>
        <test duration="12" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleGenericException should return 500 for unexpected errors" name="handleGenericException should return 500 for unexpected errors" status="passed">
            <output type="stdout">13:45:09.193 [Test worker] ERROR c.a.c.e.GlobalExceptionHandler - 예상치 못한 예외 발생: RuntimeException - Unexpected error
java.lang.RuntimeException: Unexpected error
	at com.august.cupid.exception.GlobalExceptionHandlerTest.handleGenericException should return 500 for unexpected errors(GlobalExceptionHandlerTest.kt:333) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
</output>
        </test>
        <test duration="1" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleKeysNotFoundException should return 404" name="handleKeysNotFoundException should return 404" status="passed"/>
        <test duration="2" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleDuplicateResourceException should return 409 CONFLICT" name="handleDuplicateResourceException should return 409 CONFLICT" status="passed">
            <output type="stdout">13:45:09.208 [Test worker] WARN  c.a.c.e.GlobalExceptionHandler - 중복 리소스: 이미 존재하는 사용자입니다, type=user, field=username
</output>
        </test>
        <test duration="5" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleKeyGenerationException should return 500 and record metric" name="handleKeyGenerationException should return 500 and record metric" status="failed">
            <output type="stdout">13:45:09.209 [Test worker] ERROR c.a.c.e.GlobalExceptionHandler - 키 생성 예외: userId=c1093971-8867-40ca-9f2d-2527386abae3, message=키 생성 실패
</output>
            <output type="stderr">eq(...) must not be nulljava.lang.NullPointerException: eq(...) must not be null
	at com.august.cupid.exception.GlobalExceptionHandlerTest.handleKeyGenerationException should return 500 and record metric(GlobalExceptionHandlerTest.kt:324)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</output>
        </test>
        <test duration="7" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleUserNotFoundException should return 404 with error details" name="handleUserNotFoundException should return 404 with error details" status="failed">
            <output type="stderr">Missing method call for verify(mock) here:
-&gt; at com.august.cupid.exception.GlobalExceptionHandlerTest.handleKeyGenerationException should return 500 and record metric(GlobalExceptionHandlerTest.kt:323)
Example of correct verification:
    verify(mock).doSomething()
Also, this error might show up because you verify either of: final/private/equals()/hashCode() methods.
Those methods *cannot* be stubbed/verified.
Mocking methods declared on non-public parent classes is not supported.
org.mockito.exceptions.misusing.UnfinishedVerificationException: 
Missing method call for verify(mock) here:
-&gt; at com.august.cupid.exception.GlobalExceptionHandlerTest.handleKeyGenerationException should return 500 and record metric(GlobalExceptionHandlerTest.kt:323)
Example of correct verification:
    verify(mock).doSomething()
Also, this error might show up because you verify either of: final/private/equals()/hashCode() methods.
Those methods *cannot* be stubbed/verified.
Mocking methods declared on non-public parent classes is not supported.
	at com.august.cupid.exception.GlobalExceptionHandlerTest.setUp(GlobalExceptionHandlerTest.kt:31)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</output>
        </test>
        <test duration="1" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleUnauthorizedException should return 401 with error details" name="handleUnauthorizedException should return 401 with error details" status="failed">
            <output type="stderr">Misplaced or misused argument matcher detected here:
-&gt; at com.august.cupid.exception.GlobalExceptionHandlerTest.handleKeyGenerationException should return 500 and record metric(GlobalExceptionHandlerTest.kt:324)
You cannot use argument matchers outside of verification or stubbing.
Examples of correct usage of argument matchers:
    when(mock.get(anyInt())).thenReturn(null);
    doThrow(new RuntimeException()).when(mock).someVoidMethod(any());
    verify(mock).someMethod(contains("foo"))
This message may appear after an NullPointerException if the last matcher is returning an object 
like any() but the stubbed method signature expect a primitive argument, in this case,
use primitive alternatives.
    when(mock.get(any())); // bad use, will raise NPE
    when(mock.get(anyInt())); // correct usage use
Also, this error might show up because you use argument matchers with methods that cannot be mocked.
Following methods *cannot* be stubbed/verified: final/private/equals()/hashCode().
Mocking methods declared on non-public parent classes is not supported.
org.mockito.exceptions.misusing.InvalidUseOfMatchersException: 
Misplaced or misused argument matcher detected here:
-&gt; at com.august.cupid.exception.GlobalExceptionHandlerTest.handleKeyGenerationException should return 500 and record metric(GlobalExceptionHandlerTest.kt:324)
You cannot use argument matchers outside of verification or stubbing.
Examples of correct usage of argument matchers:
    when(mock.get(anyInt())).thenReturn(null);
    doThrow(new RuntimeException()).when(mock).someVoidMethod(any());
    verify(mock).someMethod(contains("foo"))
This message may appear after an NullPointerException if the last matcher is returning an object 
like any() but the stubbed method signature expect a primitive argument, in this case,
use primitive alternatives.
    when(mock.get(any())); // bad use, will raise NPE
    when(mock.get(anyInt())); // correct usage use
Also, this error might show up because you use argument matchers with methods that cannot be mocked.
Following methods *cannot* be stubbed/verified: final/private/equals()/hashCode().
Mocking methods declared on non-public parent classes is not supported.
	at com.august.cupid.exception.GlobalExceptionHandlerTest.setUp(GlobalExceptionHandlerTest.kt:31)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</output>
        </test>
        <test duration="1" locationUrl="java:test://com.august.cupid.exception.GlobalExceptionHandlerTest/handleAuthenticationFailedException should return 401" name="handleAuthenticationFailedException should return 401" status="passed">
            <output type="stdout">13:45:09.223 [Test worker] WARN  c.a.c.e.GlobalExceptionHandler - 인증 실패: 잘못된 비밀번호입니다
</output>
        </test>
    </suite>
    <suite duration="266" locationUrl="java:suite://com.august.cupid.repository.MessageRepositoryCustomTest" name="MessageRepositoryCustomTest" status="passed">
        <test duration="252" locationUrl="java:test://com.august.cupid.repository.MessageRepositoryCustomTest/updateMessageContent should return false when message not found" name="updateMessageContent should return false when message not found" status="passed">
            <output type="stdout">13:45:09.478 [Test worker] WARN  c.a.c.r.MessageRepositoryImpl - 메시지 내용 업데이트 실패 (메시지 없음): messageId=e23a46d9-2f95-4d62-a68d-f380fb126c7b
</output>
        </test>
        <test duration="2" locationUrl="java:test://com.august.cupid.repository.MessageRepositoryCustomTest/softDeleteMessage should return true when message is deleted" name="softDeleteMessage should return true when message is deleted" status="passed"/>
        <test duration="2" locationUrl="java:test://com.august.cupid.repository.MessageRepositoryCustomTest/updateMessageStatus should return false when message not found" name="updateMessageStatus should return false when message not found" status="passed">
            <output type="stdout">13:45:09.482 [Test worker] WARN  c.a.c.r.MessageRepositoryImpl - 메시지 상태 업데이트 실패 (메시지 없음): messageId=49282ade-2f6e-4e96-99c4-59b045cf511e
</output>
        </test>
        <test duration="2" locationUrl="java:test://com.august.cupid.repository.MessageRepositoryCustomTest/operations should query by message id" name="operations should query by message id" status="passed"/>
        <test duration="2" locationUrl="java:test://com.august.cupid.repository.MessageRepositoryCustomTest/softDeleteMessage should set status to DELETED and set deletedAt" name="softDeleteMessage should set status to DELETED and set deletedAt" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.repository.MessageRepositoryCustomTest/updateMessageContent should return true when content is updated" name="updateMessageContent should return true when content is updated" status="passed"/>
        <test duration="3" locationUrl="java:test://com.august.cupid.repository.MessageRepositoryCustomTest/updateMessageStatus should return true when message is updated" name="updateMessageStatus should return true when message is updated" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.repository.MessageRepositoryCustomTest/softDeleteMessage should return false when message not found" name="softDeleteMessage should return false when message not found" status="passed">
            <output type="stdout">13:45:09.493 [Test worker] WARN  c.a.c.r.MessageRepositoryImpl - 메시지 삭제 실패 (메시지 없음): messageId=40acbdfd-5702-42c5-bae7-acde2414468a
</output>
        </test>
        <test duration="1" locationUrl="java:test://com.august.cupid.repository.MessageRepositoryCustomTest/updateMessageContent should update content and push edit history" name="updateMessageContent should update content and push edit history" status="passed"/>
    </suite>
    <suite duration="127" locationUrl="java:suite://com.august.cupid.security.CurrentUserArgumentResolverTest" name="CurrentUserArgumentResolverTest" status="passed">
        <test duration="121" locationUrl="java:test://com.august.cupid.security.CurrentUserArgumentResolverTest/resolveArgument should return UUID when authentication principal is UUID" name="resolveArgument should return UUID when authentication principal is UUID" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.security.CurrentUserArgumentResolverTest/resolveArgument should throw UnauthorizedException when principal is not valid UUID" name="resolveArgument should throw UnauthorizedException when principal is not valid UUID" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.security.CurrentUserArgumentResolverTest/supportsParameter should return true when @CurrentUser and UUID type" name="supportsParameter should return true when @CurrentUser and UUID type" status="passed"/>
        <test duration="0" locationUrl="java:test://com.august.cupid.security.CurrentUserArgumentResolverTest/supportsParameter should return false when no @CurrentUser annotation" name="supportsParameter should return false when no @CurrentUser annotation" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.security.CurrentUserArgumentResolverTest/resolveArgument should return UUID when authentication contains valid UUID string" name="resolveArgument should return UUID when authentication contains valid UUID string" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.security.CurrentUserArgumentResolverTest/supportsParameter should return false when not UUID type" name="supportsParameter should return false when not UUID type" status="passed"/>
        <test duration="0" locationUrl="java:test://com.august.cupid.security.CurrentUserArgumentResolverTest/resolveArgument should throw UnauthorizedException when principal is unsupported type" name="resolveArgument should throw UnauthorizedException when principal is unsupported type" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.security.CurrentUserArgumentResolverTest/resolveArgument should throw UnauthorizedException when no authentication" name="resolveArgument should throw UnauthorizedException when no authentication" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.security.CurrentUserArgumentResolverTest/resolveArgument should throw UnauthorizedException when authentication principal is null" name="resolveArgument should throw UnauthorizedException when authentication principal is null" status="passed"/>
    </suite>
    <suite duration="362" locationUrl="java:suite://com.august.cupid.service.MessageServiceTest" name="MessageServiceTest" status="failed">
        <test duration="322" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/getChannelMessages should return paged messages for valid member" name="getChannelMessages should return paged messages for valid member" status="failed">
            <output type="stderr">eq(...) must not be nulljava.lang.NullPointerException: eq(...) must not be null
	at com.august.cupid.service.MessageServiceTest.getChannelMessages should return paged messages for valid member(MessageServiceTest.kt:215)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</output>
        </test>
        <test duration="1" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/markMessageAsRead should throw MessageNotFoundException when message does not exist" name="markMessageAsRead should throw MessageNotFoundException when message does not exist" status="failed">
            <output type="stderr">Misplaced or misused argument matcher detected here:
-&gt; at com.august.cupid.service.MessageServiceTest.getChannelMessages should return paged messages for valid member(MessageServiceTest.kt:215)
You cannot use argument matchers outside of verification or stubbing.
Examples of correct usage of argument matchers:
    when(mock.get(anyInt())).thenReturn(null);
    doThrow(new RuntimeException()).when(mock).someVoidMethod(any());
    verify(mock).someMethod(contains("foo"))
This message may appear after an NullPointerException if the last matcher is returning an object 
like any() but the stubbed method signature expect a primitive argument, in this case,
use primitive alternatives.
    when(mock.get(any())); // bad use, will raise NPE
    when(mock.get(anyInt())); // correct usage use
Also, this error might show up because you use argument matchers with methods that cannot be mocked.
Following methods *cannot* be stubbed/verified: final/private/equals()/hashCode().
Mocking methods declared on non-public parent classes is not supported.
org.mockito.exceptions.misusing.InvalidUseOfMatchersException: 
Misplaced or misused argument matcher detected here:
-&gt; at com.august.cupid.service.MessageServiceTest.getChannelMessages should return paged messages for valid member(MessageServiceTest.kt:215)
You cannot use argument matchers outside of verification or stubbing.
Examples of correct usage of argument matchers:
    when(mock.get(anyInt())).thenReturn(null);
    doThrow(new RuntimeException()).when(mock).someVoidMethod(any());
    verify(mock).someMethod(contains("foo"))
This message may appear after an NullPointerException if the last matcher is returning an object 
like any() but the stubbed method signature expect a primitive argument, in this case,
use primitive alternatives.
    when(mock.get(any())); // bad use, will raise NPE
    when(mock.get(anyInt())); // correct usage use
Also, this error might show up because you use argument matchers with methods that cannot be mocked.
Following methods *cannot* be stubbed/verified: final/private/equals()/hashCode().
Mocking methods declared on non-public parent classes is not supported.
	at com.august.cupid.service.MessageServiceTest.setUp(MessageServiceTest.kt:52)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</output>
        </test>
        <test duration="1" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/editMessage should throw MessageNotFoundException when message does not exist" name="editMessage should throw MessageNotFoundException when message does not exist" status="passed"/>
        <test duration="2" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/markMessageAsRead should create new read receipt and return false" name="markMessageAsRead should create new read receipt and return false" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/sendMessage should throw UserNotFoundException when sender does not exist" name="sendMessage should throw UserNotFoundException when sender does not exist" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/editMessage should successfully update message" name="editMessage should successfully update message" status="failed">
            <output type="stderr">eq(...) must not be nulljava.lang.NullPointerException: eq(...) must not be null
	at com.august.cupid.service.MessageServiceTest.editMessage should successfully update message(MessageServiceTest.kt:350)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</output>
        </test>
        <test duration="0" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/sendMessage should throw BadRequestException when channelId is null" name="sendMessage should throw BadRequestException when channelId is null" status="failed">
            <output type="stderr">Misplaced or misused argument matcher detected here:
-&gt; at com.august.cupid.service.MessageServiceTest.editMessage should successfully update message(MessageServiceTest.kt:350)
You cannot use argument matchers outside of verification or stubbing.
Examples of correct usage of argument matchers:
    when(mock.get(anyInt())).thenReturn(null);
    doThrow(new RuntimeException()).when(mock).someVoidMethod(any());
    verify(mock).someMethod(contains("foo"))
This message may appear after an NullPointerException if the last matcher is returning an object 
like any() but the stubbed method signature expect a primitive argument, in this case,
use primitive alternatives.
    when(mock.get(any())); // bad use, will raise NPE
    when(mock.get(anyInt())); // correct usage use
Also, this error might show up because you use argument matchers with methods that cannot be mocked.
Following methods *cannot* be stubbed/verified: final/private/equals()/hashCode().
Mocking methods declared on non-public parent classes is not supported.
org.mockito.exceptions.misusing.InvalidUseOfMatchersException: 
Misplaced or misused argument matcher detected here:
-&gt; at com.august.cupid.service.MessageServiceTest.editMessage should successfully update message(MessageServiceTest.kt:350)
You cannot use argument matchers outside of verification or stubbing.
Examples of correct usage of argument matchers:
    when(mock.get(anyInt())).thenReturn(null);
    doThrow(new RuntimeException()).when(mock).someVoidMethod(any());
    verify(mock).someMethod(contains("foo"))
This message may appear after an NullPointerException if the last matcher is returning an object 
like any() but the stubbed method signature expect a primitive argument, in this case,
use primitive alternatives.
    when(mock.get(any())); // bad use, will raise NPE
    when(mock.get(anyInt())); // correct usage use
Also, this error might show up because you use argument matchers with methods that cannot be mocked.
Following methods *cannot* be stubbed/verified: final/private/equals()/hashCode().
Mocking methods declared on non-public parent classes is not supported.
	at com.august.cupid.service.MessageServiceTest.setUp(MessageServiceTest.kt:52)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</output>
        </test>
        <test duration="2" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/editMessage should throw MessageAccessDeniedException when user is not sender" name="editMessage should throw MessageAccessDeniedException when user is not sender" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/getMessageById should throw MessageNotFoundException when message does not exist" name="getMessageById should throw MessageNotFoundException when message does not exist" status="passed"/>
        <test duration="2" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/sendMessage should throw ChannelAccessDeniedException when membership is not active" name="sendMessage should throw ChannelAccessDeniedException when membership is not active" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/sendMessage should throw ChannelAccessDeniedException when user is not channel member" name="sendMessage should throw ChannelAccessDeniedException when user is not channel member" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/editMessage should throw BadRequestException when message is deleted" name="editMessage should throw BadRequestException when message is deleted" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/getUnreadMessageCount should return count for valid member" name="getUnreadMessageCount should return count for valid member" status="failed">
            <output type="stderr">eq(...) must not be nulljava.lang.NullPointerException: eq(...) must not be null
	at com.august.cupid.service.MessageServiceTest.getUnreadMessageCount should return count for valid member(MessageServiceTest.kt:523)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</output>
        </test>
        <test duration="1" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/getMessageById should return message for valid request" name="getMessageById should return message for valid request" status="failed">
            <output type="stderr">Misplaced or misused argument matcher detected here:
-&gt; at com.august.cupid.service.MessageServiceTest.getUnreadMessageCount should return count for valid member(MessageServiceTest.kt:523)
You cannot use argument matchers outside of verification or stubbing.
Examples of correct usage of argument matchers:
    when(mock.get(anyInt())).thenReturn(null);
    doThrow(new RuntimeException()).when(mock).someVoidMethod(any());
    verify(mock).someMethod(contains("foo"))
This message may appear after an NullPointerException if the last matcher is returning an object 
like any() but the stubbed method signature expect a primitive argument, in this case,
use primitive alternatives.
    when(mock.get(any())); // bad use, will raise NPE
    when(mock.get(anyInt())); // correct usage use
Also, this error might show up because you use argument matchers with methods that cannot be mocked.
Following methods *cannot* be stubbed/verified: final/private/equals()/hashCode().
Mocking methods declared on non-public parent classes is not supported.
org.mockito.exceptions.misusing.InvalidUseOfMatchersException: 
Misplaced or misused argument matcher detected here:
-&gt; at com.august.cupid.service.MessageServiceTest.getUnreadMessageCount should return count for valid member(MessageServiceTest.kt:523)
You cannot use argument matchers outside of verification or stubbing.
Examples of correct usage of argument matchers:
    when(mock.get(anyInt())).thenReturn(null);
    doThrow(new RuntimeException()).when(mock).someVoidMethod(any());
    verify(mock).someMethod(contains("foo"))
This message may appear after an NullPointerException if the last matcher is returning an object 
like any() but the stubbed method signature expect a primitive argument, in this case,
use primitive alternatives.
    when(mock.get(any())); // bad use, will raise NPE
    when(mock.get(anyInt())); // correct usage use
Also, this error might show up because you use argument matchers with methods that cannot be mocked.
Following methods *cannot* be stubbed/verified: final/private/equals()/hashCode().
Mocking methods declared on non-public parent classes is not supported.
	at com.august.cupid.service.MessageServiceTest.setUp(MessageServiceTest.kt:52)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</output>
        </test>
        <test duration="2" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/getUnreadMessageCount should throw ChannelAccessDeniedException when user has no access" name="getUnreadMessageCount should throw ChannelAccessDeniedException when user has no access" status="passed"/>
        <test duration="4" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/deleteMessage should successfully soft delete message" name="deleteMessage should successfully soft delete message" status="passed">
            <output type="stdout">13:45:09.972 [Test worker] INFO  c.a.cupid.service.MessageService - 메시지 삭제 완료: messageId=54b42ca4-bb9b-47f7-adcb-ea53bbadcd40
</output>
        </test>
        <test duration="2" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/markMessageAsRead should return true when already marked as read" name="markMessageAsRead should return true when already marked as read" status="passed"/>
        <test duration="2" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/deleteMessage should throw MessageNotFoundException when message does not exist" name="deleteMessage should throw MessageNotFoundException when message does not exist" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/deleteMessage should throw BadRequestException when message is already deleted" name="deleteMessage should throw BadRequestException when message is already deleted" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/getChannelMessages should throw ChannelAccessDeniedException when user has no access" name="getChannelMessages should throw ChannelAccessDeniedException when user has no access" status="passed"/>
        <test duration="1" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/getMessageById should throw ChannelAccessDeniedException when user has no channel access" name="getMessageById should throw ChannelAccessDeniedException when user has no channel access" status="passed"/>
        <test duration="10" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/sendMessage should successfully create and return message" name="sendMessage should successfully create and return message" status="passed">
            <output type="stdout">13:45:09.986 [Test worker] INFO  c.a.cupid.service.MessageService - 메시지 전송 완료: messageId=e205a5fe-c312-4ef5-baef-88c67ff3a8b4, channelId=5bbc817e-b00e-480c-89b3-1db6117b58c4
</output>
        </test>
        <test duration="2" locationUrl="java:test://com.august.cupid.service.MessageServiceTest/deleteMessage should throw MessageAccessDeniedException when user is not sender" name="deleteMessage should throw MessageAccessDeniedException when user is not sender" status="passed"/>
    </suite>
    <suite duration="240217" locationUrl="java:suite://com.august.cupid.service.SignalProtocolIntegrationTest" name="SignalProtocolIntegrationTest" status="failed">
        <test duration="26132" locationUrl="java:test://com.august.cupid.service.SignalProtocolIntegrationTest/test key exchange between two users" name="test key exchange between two users" status="failed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:45:11.811 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 8d8c32f7-053b-4340-8f4c-5dcefca0c3f7의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:45:25.056 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 8d8c32f7-053b-4340-8f4c-5dcefca0c3f7의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:45:25.087 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 8d8c32f7-053b-4340-8f4c-5dcefca0c3f7
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:45:25.091 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 8d8c32f7-053b-4340-8f4c-5dcefca0c3f7
13:45:25.092 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 cbb31324-97d1-4663-b26c-9145d32328e7의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:45:37.753 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 cbb31324-97d1-4663-b26c-9145d32328e7의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:45:37.768 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 cbb31324-97d1-4663-b26c-9145d32328e7
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:45:37.770 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 cbb31324-97d1-4663-b26c-9145d32328e7
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
13:45:37.779 [Test worker] INFO  c.a.c.service.SignalProtocolService - 세션 초기화: 8d8c32f7-053b-4340-8f4c-5dcefca0c3f7 -&gt; cbb31324-97d1-4663-b26c-9145d32328e7
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:45:37.901 [Test worker] ERROR c.a.cupid.util.KeyEncryptionUtil - 개인키 복호화 실패: Tag mismatch!
13:45:37.901 [Test worker] ERROR c.a.c.service.SignalProtocolService - 세션 초기화 실패: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
java.lang.RuntimeException: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:126) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.createProtocolStore(SignalProtocolService.kt:1053) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.access$createProtocolStore(SignalProtocolService.kt:40) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:421) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:413) ~[main/:na]
	at com.august.cupid.service.EncryptionMetricsService.recordOperation(EncryptionMetricsService.kt:262) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.initializeSession(SignalProtocolService.kt:413) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.initializeSession(&lt;generated&gt;) ~[main/:na]
	at com.august.cupid.service.SignalProtocolIntegrationTest.test key exchange between two users(SignalProtocolIntegrationTest.kt:129) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
Caused by: javax.crypto.AEADBadTagException: Tag mismatch!
	at java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(GaloisCounterMode.java:1395) ~[na:na]
	at java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(GaloisCounterMode.java:406) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2205) ~[na:na]
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:123) ~[main/:na]
	... 109 common frames omitted
13:45:37.910 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:45:37.910 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:45:37.910 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:45:37.910 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@35806f35]]
13:45:37.910 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@35806f35]
13:45:37.910 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@35806f35]
13:45:37.910 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:45:37.910 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:45:37.910 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:45:37.912 [SimpleAsyncTaskExecutor-6] ERROR c.a.c.service.SecurityAuditLogger - 의심스러운 활동 체크 실패: userId=8d8c32f7-053b-4340-8f4c-5dcefca0c3f7
org.springframework.data.mapping.MappingException: Expected to read Document Document{{_id=3dc819a7-5fbc-4c21-974b-32641c058b7d, user_id=8d8c32f7-053b-4340-8f4c-5dcefca0c3f7, event_type=SESSION_FAILURE, success=false, error_message=개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요., execution_time_ms=123, metadata=Document{{recipient_id=cbb31324-97d1-4663-b26c-9145d32328e7, device_id=1}}, created_at=Sat Nov 29 13:45:37 KST 2025, expires_at=Fri Feb 27 13:45:37 KST 2026, _class=com.august.cupid.model.entity.SecurityAuditLog}} into type long but didn't find a PersistentEntity for the latter
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:519) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:458) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.project(MappingMongoConverter.java:355) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate$ProjectingReadCallback.doWith(MongoTemplate.java:3372) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2957) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2662) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.doFind(ExecutableFindOperationSupport.java:178) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.oneValue(ExecutableFindOperationSupport.java:113) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.lambda$getExecution$8(AbstractMongoQuery.java:239) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.doExecute(AbstractMongoQuery.java:184) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.execute(AbstractMongoQuery.java:156) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.mongodb.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:129) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.util.NullnessMethodInvocationValidator.invoke(NullnessMethodInvocationValidator.java:95) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy3/jdk.proxy3.$Proxy244.countByUserIdAndSuccessFalseAndCreatedAtAfter(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy3/jdk.proxy3.$Proxy244.countByUserIdAndSuccessFalseAndCreatedAtAfter(Unknown Source) ~[na:na]
	at com.august.cupid.service.SecurityAuditLogger.checkSuspiciousActivity(SecurityAuditLogger.kt:283) ~[main/:na]
	at com.august.cupid.service.SecurityAuditLogger.logSessionInitialization(SecurityAuditLogger.kt:124) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.12.jar:6.2.12]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
13:45:37.924 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:45:37.928 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Shutdown initiated...
13:45:37.928 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Shutdown completed.
</output>
            <output type="stderr">개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.java.lang.SecurityException: 세션 초기화 중 오류가 발생했습니다
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:502)
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:413)
	at com.august.cupid.service.EncryptionMetricsService.recordOperation(EncryptionMetricsService.kt:262)
	at com.august.cupid.service.SignalProtocolService.initializeSession(SignalProtocolService.kt:413)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.initializeSession(&lt;generated&gt;)
	at com.august.cupid.service.SignalProtocolIntegrationTest.test key exchange between two users(SignalProtocolIntegrationTest.kt:129)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
Caused by: java.lang.RuntimeException: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:126)
	at com.august.cupid.service.SignalProtocolService.createProtocolStore(SignalProtocolService.kt:1053)
	at com.august.cupid.service.SignalProtocolService.access$createProtocolStore(SignalProtocolService.kt:40)
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:421)
	... 19 more
Caused by: javax.crypto.AEADBadTagException: Tag mismatch!
	at java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(GaloisCounterMode.java:1395)
	at java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(GaloisCounterMode.java:406)
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2205)
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:123)
	... 22 more
</output>
        </test>
        <test duration="12648" locationUrl="java:test://com.august.cupid.service.SignalProtocolIntegrationTest/test complete key generation flow" name="test complete key generation flow" status="passed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:45:38.704 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 a6311c6b-e6e2-4698-b10d-cd8e1dd6ef0e의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:45:51.302 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 a6311c6b-e6e2-4698-b10d-cd8e1dd6ef0e의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:45:51.314 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 a6311c6b-e6e2-4698-b10d-cd8e1dd6ef0e
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:45:51.317 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 a6311c6b-e6e2-4698-b10d-cd8e1dd6ef0e
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
13:45:51.325 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:45:51.326 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:45:51.326 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:45:51.326 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7c4a8a62]]
13:45:51.326 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7c4a8a62]
13:45:51.326 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7c4a8a62]
13:45:51.326 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:45:51.326 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:45:51.326 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:45:51.339 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:45:51.342 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Shutdown initiated...
13:45:51.344 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Shutdown completed.
</output>
        </test>
        <test duration="12845" locationUrl="java:test://com.august.cupid.service.SignalProtocolIntegrationTest/test signed pre-key rotation" name="test signed pre-key rotation" status="failed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:45:52.025 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 f3676dc1-52ea-4000-8d55-2f684af29215의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:46:04.566 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 f3676dc1-52ea-4000-8d55-2f684af29215의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:46:04.576 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 f3676dc1-52ea-4000-8d55-2f684af29215
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:46:04.579 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 f3676dc1-52ea-4000-8d55-2f684af29215
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
13:46:04.584 [Test worker] INFO  c.a.c.service.SignalProtocolService - Signed pre-key 교체: 사용자 f3676dc1-52ea-4000-8d55-2f684af29215
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        coalesce(max(sspk1_0.signed_pre_key_id), 0) 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=?
13:46:04.835 [Test worker] INFO  c.a.c.service.SignalProtocolService - Signed pre-key 교체 완료: 2
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    update
        user_keys 
    set
        created_at=?,
        device_id=?,
        expires_at=?,
        identity_private_key_encrypted=?,
        identity_public_key=?,
        pre_key_signature=?,
        registration_id=?,
        signed_pre_key=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
13:46:04.839 [Test worker] ERROR c.a.c.service.SignalProtocolService - 키 상태 조회 실패: Query did not return a unique result: 2 results were returned
org.springframework.dao.IncorrectResultSizeDataAccessException: Query did not return a unique result: 2 results were returned
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:305) ~[spring-orm-6.2.12.jar:6.2.12]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256) ~[spring-orm-6.2.12.jar:6.2.12]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244) ~[spring-orm-6.2.12.jar:6.2.12]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.util.NullnessMethodInvocationValidator.invoke(NullnessMethodInvocationValidator.java:95) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy3/jdk.proxy3.$Proxy235.findByUserIdAndIsActiveTrue(Unknown Source) ~[na:na]
	at com.august.cupid.service.SignalProtocolService.getKeyStatus(SignalProtocolService.kt:873) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.getKeyStatus(&lt;generated&gt;) ~[main/:na]
	at com.august.cupid.service.SignalProtocolIntegrationTest.test signed pre-key rotation(SignalProtocolIntegrationTest.kt:238) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
Caused by: org.hibernate.NonUniqueResultException: Query did not return a unique result: 2 results were returned
	at org.hibernate.query.spi.AbstractSelectionQuery.uniqueElement(AbstractSelectionQuery.java:298) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:281) ~[hibernate-core-6.6.33.Final.jar:6.6.33.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226) ~[spring-data-jpa-3.5.5.jar:3.5.5]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95) ~[spring-data-jpa-3.5.5.jar:3.5.5]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160) ~[spring-data-jpa-3.5.5.jar:3.5.5]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148) ~[spring-data-jpa-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.12.jar:6.2.12]
	... 111 common frames omitted
13:46:04.845 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:46:04.845 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:46:04.845 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:46:04.845 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@77bb8255]]
13:46:04.846 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@77bb8255]
13:46:04.846 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@77bb8255]
13:46:04.846 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:46:04.846 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:46:04.846 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:46:04.853 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:46:04.863 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Shutdown initiated...
13:46:04.864 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Shutdown completed.
</output>
            <output type="stderr">Expected value to be true.org.opentest4j.AssertionFailedError: Expected value to be true.
	at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:38)
	at org.junit.jupiter.api.Assertions.fail(Assertions.java:138)
	at kotlin.test.junit5.JUnit5Asserter.fail(JUnitSupport.kt:56)
	at kotlin.test.Asserter$DefaultImpls.assertTrue(Assertions.kt:652)
	at kotlin.test.junit5.JUnit5Asserter.assertTrue(JUnitSupport.kt:30)
	at kotlin.test.Asserter$DefaultImpls.assertTrue(Assertions.kt:662)
	at kotlin.test.junit5.JUnit5Asserter.assertTrue(JUnitSupport.kt:30)
	at kotlin.test.AssertionsKt__AssertionsKt.assertTrue(Assertions.kt:44)
	at kotlin.test.AssertionsKt.assertTrue(Unknown Source)
	at kotlin.test.AssertionsKt__AssertionsKt.assertTrue$default(Assertions.kt:42)
	at kotlin.test.AssertionsKt.assertTrue$default(Unknown Source)
	at com.august.cupid.service.SignalProtocolIntegrationTest.test signed pre-key rotation(SignalProtocolIntegrationTest.kt:239)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</output>
        </test>
        <test duration="25199" locationUrl="java:test://com.august.cupid.service.SignalProtocolIntegrationTest/test decrypt message without session should fail" name="test decrypt message without session should fail" status="passed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:46:05.485 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 56aefb98-d6ed-450e-a5b0-6a15b1e4b150의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:46:18.036 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 56aefb98-d6ed-450e-a5b0-6a15b1e4b150의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:46:18.043 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 56aefb98-d6ed-450e-a5b0-6a15b1e4b150
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:46:18.046 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 56aefb98-d6ed-450e-a5b0-6a15b1e4b150
13:46:18.046 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 a2977619-734c-42f3-ac99-d4e359547ecd의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:46:30.531 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 a2977619-734c-42f3-ac99-d4e359547ecd의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:46:30.537 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 a2977619-734c-42f3-ac99-d4e359547ecd
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:46:30.539 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 a2977619-734c-42f3-ac99-d4e359547ecd
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:46:30.663 [Test worker] ERROR c.a.c.service.SignalProtocolService - 메시지 복호화 실패: Illegal base64 character 5f
java.lang.IllegalArgumentException: Illegal base64 character 5f
	at java.base/java.util.Base64$Decoder.decode0(Base64.java:848) ~[na:na]
	at java.base/java.util.Base64$Decoder.decode(Base64.java:566) ~[na:na]
	at java.base/java.util.Base64$Decoder.decode(Base64.java:589) ~[na:na]
	at com.august.cupid.service.SignalProtocolService$decryptMessage$1.invoke(SignalProtocolService.kt:668) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService$decryptMessage$1.invoke(SignalProtocolService.kt:652) ~[main/:na]
	at com.august.cupid.service.EncryptionMetricsService.recordOperation(EncryptionMetricsService.kt:262) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.decryptMessage(SignalProtocolService.kt:652) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.decryptMessage(&lt;generated&gt;) ~[main/:na]
	at com.august.cupid.service.SignalProtocolIntegrationTest.test decrypt message without session should fail(SignalProtocolIntegrationTest.kt:329) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
13:46:30.669 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:46:30.669 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:46:30.669 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:46:30.669 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@691edc6a]]
13:46:30.669 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@691edc6a]
13:46:30.669 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@691edc6a]
13:46:30.669 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:46:30.669 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:46:30.669 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:46:30.672 [SimpleAsyncTaskExecutor-5] ERROR c.a.c.service.SecurityAuditLogger - 의심스러운 활동 체크 실패: userId=a2977619-734c-42f3-ac99-d4e359547ecd
org.springframework.data.mapping.MappingException: Expected to read Document Document{{_id=f138784e-4394-4f0e-8a42-56f0a5456ce3, user_id=a2977619-734c-42f3-ac99-d4e359547ecd, event_type=DECRYPTION_FAILURE, success=false, error_message=Illegal base64 character 5f, execution_time_ms=125, metadata=Document{{sender_id=56aefb98-d6ed-450e-a5b0-6a15b1e4b150, device_id=1}}, created_at=Sat Nov 29 13:46:30 KST 2025, expires_at=Fri Feb 27 13:46:30 KST 2026, _class=com.august.cupid.model.entity.SecurityAuditLog}} into type long but didn't find a PersistentEntity for the latter
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:519) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:458) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.project(MappingMongoConverter.java:355) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate$ProjectingReadCallback.doWith(MongoTemplate.java:3372) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2957) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2662) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.doFind(ExecutableFindOperationSupport.java:178) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.oneValue(ExecutableFindOperationSupport.java:113) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.lambda$getExecution$8(AbstractMongoQuery.java:239) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.doExecute(AbstractMongoQuery.java:184) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.execute(AbstractMongoQuery.java:156) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.mongodb.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:129) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.util.NullnessMethodInvocationValidator.invoke(NullnessMethodInvocationValidator.java:95) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy3/jdk.proxy3.$Proxy244.countByUserIdAndSuccessFalseAndCreatedAtAfter(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy3/jdk.proxy3.$Proxy244.countByUserIdAndSuccessFalseAndCreatedAtAfter(Unknown Source) ~[na:na]
	at com.august.cupid.service.SecurityAuditLogger.checkSuspiciousActivity(SecurityAuditLogger.kt:283) ~[main/:na]
	at com.august.cupid.service.SecurityAuditLogger.logMessageDecryption(SecurityAuditLogger.kt:202) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.12.jar:6.2.12]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
13:46:30.675 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:46:30.677 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Shutdown initiated...
13:46:30.677 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Shutdown completed.
</output>
        </test>
        <test duration="12516" locationUrl="java:test://com.august.cupid.service.SignalProtocolIntegrationTest/test delete all keys" name="test delete all keys" status="passed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:46:31.263 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 87de60e7-6e84-4a4e-a1f8-ac29602ed885의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:46:43.736 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 87de60e7-6e84-4a4e-a1f8-ac29602ed885의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:46:43.743 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 87de60e7-6e84-4a4e-a1f8-ac29602ed885
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:46:43.746 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 87de60e7-6e84-4a4e-a1f8-ac29602ed885
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    delete 
    from
        signal_sessions ss1_0 
    where
        ss1_0.user_id=?
Hibernate: 
    delete 
    from
        signal_identities si1_0 
    where
        si1_0.user_id=?
Hibernate: 
    delete 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=?
Hibernate: 
    delete 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=?
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    delete 
    from
        user_keys 
    where
        id=?
13:46:43.757 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 87de60e7-6e84-4a4e-a1f8-ac29602ed885의 모든 키 및 세션 삭제 완료
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:46:43.759 [Test worker] ERROR c.a.c.service.SignalProtocolService - Pre-key bundle 조회 실패: 사용자 87de60e7-6e84-4a4e-a1f8-ac29602ed885의 활성 키를 찾을 수 없습니다
java.util.NoSuchElementException: 사용자 87de60e7-6e84-4a4e-a1f8-ac29602ed885의 활성 키를 찾을 수 없습니다
	at com.august.cupid.service.SignalProtocolService.getPreKeyBundle(SignalProtocolService.kt:309) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.getPreKeyBundle(&lt;generated&gt;) ~[main/:na]
	at com.august.cupid.service.SignalProtocolIntegrationTest.test delete all keys(SignalProtocolIntegrationTest.kt:359) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
13:46:43.765 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:46:43.766 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:46:43.766 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:46:43.766 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@a2ee72]]
13:46:43.766 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@a2ee72]
13:46:43.766 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@a2ee72]
13:46:43.766 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:46:43.766 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:46:43.766 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:46:43.772 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:46:43.774 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Shutdown initiated...
13:46:43.774 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Shutdown completed.
</output>
        </test>
        <test duration="25204" locationUrl="java:test://com.august.cupid.service.SignalProtocolIntegrationTest/test one-time pre-key exhaustion" name="test one-time pre-key exhaustion" status="passed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:46:44.329 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 517f64ac-9936-408f-af94-0c779f1d9431의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:46:56.855 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 517f64ac-9936-408f-af94-0c779f1d9431의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:46:56.862 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 517f64ac-9936-408f-af94-0c779f1d9431
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:46:56.865 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 517f64ac-9936-408f-af94-0c779f1d9431
13:46:56.865 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 120df763-ce0b-4af2-a17a-04f780d2cd3d의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:47:09.464 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 120df763-ce0b-4af2-a17a-04f780d2cd3d의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:47:09.469 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 120df763-ce0b-4af2-a17a-04f780d2cd3d
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:47:09.470 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 120df763-ce0b-4af2-a17a-04f780d2cd3d
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
13:47:09.517 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:47:09.517 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:47:09.517 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:47:09.518 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4f17bedf]]
13:47:09.518 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4f17bedf]
13:47:09.518 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4f17bedf]
13:47:09.518 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:47:09.518 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:47:09.518 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:47:09.525 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:47:09.527 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Shutdown initiated...
13:47:09.528 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Shutdown completed.
</output>
        </test>
        <test duration="25174" locationUrl="java:test://com.august.cupid.service.SignalProtocolIntegrationTest/test encrypt message without session should throw exception" name="test encrypt message without session should throw exception" status="failed">
            <diff actual="class java.lang.SecurityException" expected="class java.lang.IllegalStateException"/>
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:47:10.421 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 2e7c9b8a-768d-45b0-a7cc-e9f915bdb042의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:47:22.863 [MessageBroker-8] INFO  c.a.c.w.WebSocketConnectionMonitor - WebSocket 연결 상태 통계: ConnectionStats(totalConnections=0, activeConnections=0, inactiveConnections=0, lastCheckTime=1764391642863)
13:47:23.006 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 2e7c9b8a-768d-45b0-a7cc-e9f915bdb042의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:47:23.012 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 2e7c9b8a-768d-45b0-a7cc-e9f915bdb042
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:47:23.015 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 2e7c9b8a-768d-45b0-a7cc-e9f915bdb042
13:47:23.015 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 8153ebff-492f-4bbe-af34-8eb810c57234의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:47:24.174 [MessageBroker-8] INFO  c.a.c.w.WebSocketConnectionMonitor - WebSocket 연결 상태 통계: ConnectionStats(totalConnections=0, activeConnections=0, inactiveConnections=0, lastCheckTime=1764391644174)
13:47:26.015 [MessageBroker-6] INFO  c.a.c.w.WebSocketConnectionMonitor - WebSocket 연결 상태 통계: ConnectionStats(totalConnections=0, activeConnections=0, inactiveConnections=0, lastCheckTime=1764391646015)
13:47:35.443 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 8153ebff-492f-4bbe-af34-8eb810c57234의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:47:35.447 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 8153ebff-492f-4bbe-af34-8eb810c57234
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:47:35.448 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 8153ebff-492f-4bbe-af34-8eb810c57234
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:47:35.574 [Test worker] ERROR c.a.cupid.util.KeyEncryptionUtil - 개인키 복호화 실패: Tag mismatch!
13:47:35.574 [Test worker] ERROR c.a.c.service.SignalProtocolService - 메시지 암호화 실패: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
java.lang.RuntimeException: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:126) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.createProtocolStore(SignalProtocolService.kt:1053) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.access$createProtocolStore(SignalProtocolService.kt:40) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService$encryptMessage$1.invoke(SignalProtocolService.kt:536) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService$encryptMessage$1.invoke(SignalProtocolService.kt:531) ~[main/:na]
	at com.august.cupid.service.EncryptionMetricsService.recordOperation(EncryptionMetricsService.kt:262) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.encryptMessage(SignalProtocolService.kt:531) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.encryptMessage(&lt;generated&gt;) ~[main/:na]
	at com.august.cupid.service.EncryptionService$DefaultImpls.encryptMessage$default(EncryptionService.kt:75) ~[main/:na]
	at com.august.cupid.service.SignalProtocolIntegrationTest.test encrypt message without session should throw exception(SignalProtocolIntegrationTest.kt:297) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
Caused by: javax.crypto.AEADBadTagException: Tag mismatch!
	at java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(GaloisCounterMode.java:1395) ~[na:na]
	at java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(GaloisCounterMode.java:406) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2205) ~[na:na]
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:123) ~[main/:na]
	... 110 common frames omitted
13:47:35.580 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:47:35.580 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:47:35.580 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:47:35.580 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1b25a932]]
13:47:35.580 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1b25a932]
13:47:35.580 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1b25a932]
13:47:35.580 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:47:35.580 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:47:35.580 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:47:35.582 [SimpleAsyncTaskExecutor-5] ERROR c.a.c.service.SecurityAuditLogger - 의심스러운 활동 체크 실패: userId=2e7c9b8a-768d-45b0-a7cc-e9f915bdb042
org.springframework.data.mapping.MappingException: Expected to read Document Document{{_id=33fdd7c6-a615-4dec-ba38-3ec686e8e496, user_id=2e7c9b8a-768d-45b0-a7cc-e9f915bdb042, event_type=ENCRYPTION_FAILURE, success=false, error_message=개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요., execution_time_ms=127, metadata=Document{{recipient_id=8153ebff-492f-4bbe-af34-8eb810c57234, device_id=1}}, created_at=Sat Nov 29 13:47:35 KST 2025, expires_at=Fri Feb 27 13:47:35 KST 2026, _class=com.august.cupid.model.entity.SecurityAuditLog}} into type long but didn't find a PersistentEntity for the latter
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:519) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:458) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.project(MappingMongoConverter.java:355) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate$ProjectingReadCallback.doWith(MongoTemplate.java:3372) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2957) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2662) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.doFind(ExecutableFindOperationSupport.java:178) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.oneValue(ExecutableFindOperationSupport.java:113) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.lambda$getExecution$8(AbstractMongoQuery.java:239) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.doExecute(AbstractMongoQuery.java:184) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.execute(AbstractMongoQuery.java:156) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.mongodb.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:129) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.util.NullnessMethodInvocationValidator.invoke(NullnessMethodInvocationValidator.java:95) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy3/jdk.proxy3.$Proxy244.countByUserIdAndSuccessFalseAndCreatedAtAfter(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy3/jdk.proxy3.$Proxy244.countByUserIdAndSuccessFalseAndCreatedAtAfter(Unknown Source) ~[na:na]
	at com.august.cupid.service.SecurityAuditLogger.checkSuspiciousActivity(SecurityAuditLogger.kt:283) ~[main/:na]
	at com.august.cupid.service.SecurityAuditLogger.logMessageEncryption(SecurityAuditLogger.kt:163) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.12.jar:6.2.12]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
13:47:35.586 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:47:35.587 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Shutdown initiated...
13:47:35.587 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Shutdown completed.
</output>
            <output type="stderr">메시지 암호화 중 오류가 발생했습니다org.opentest4j.AssertionFailedError: Unexpected exception type thrown, expected: &lt;java.lang.IllegalStateException&gt; but was: &lt;java.lang.SecurityException&gt;
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:67)
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35)
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3128)
	at com.august.cupid.service.SignalProtocolIntegrationTest.test encrypt message without session should throw exception(SignalProtocolIntegrationTest.kt:447)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
Caused by: java.lang.SecurityException: 메시지 암호화 중 오류가 발생했습니다
	at com.august.cupid.service.SignalProtocolService$encryptMessage$1.invoke(SignalProtocolService.kt:625)
	at com.august.cupid.service.SignalProtocolService$encryptMessage$1.invoke(SignalProtocolService.kt:531)
	at com.august.cupid.service.EncryptionMetricsService.recordOperation(EncryptionMetricsService.kt:262)
	at com.august.cupid.service.SignalProtocolService.encryptMessage(SignalProtocolService.kt:531)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.encryptMessage(&lt;generated&gt;)
	at com.august.cupid.service.EncryptionService$DefaultImpls.encryptMessage$default(EncryptionService.kt:75)
	at com.august.cupid.service.SignalProtocolIntegrationTest.test encrypt message without session should throw exception(SignalProtocolIntegrationTest.kt:297)
	... 3 more
Caused by: java.lang.RuntimeException: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:126)
	at com.august.cupid.service.SignalProtocolService.createProtocolStore(SignalProtocolService.kt:1053)
	at com.august.cupid.service.SignalProtocolService.access$createProtocolStore(SignalProtocolService.kt:40)
	at com.august.cupid.service.SignalProtocolService$encryptMessage$1.invoke(SignalProtocolService.kt:536)
	... 20 more
Caused by: javax.crypto.AEADBadTagException: Tag mismatch!
	at java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(GaloisCounterMode.java:1395)
	at java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(GaloisCounterMode.java:406)
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2205)
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:123)
	... 23 more
</output>
        </test>
        <test duration="25253" locationUrl="java:test://com.august.cupid.service.SignalProtocolIntegrationTest/test message encryption and decryption" name="test message encryption and decryption" status="failed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:47:36.189 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 6456b9b0-c1f9-4706-a516-7cd409659ccb의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:47:48.735 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 6456b9b0-c1f9-4706-a516-7cd409659ccb의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:47:48.740 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 6456b9b0-c1f9-4706-a516-7cd409659ccb
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:47:48.743 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 6456b9b0-c1f9-4706-a516-7cd409659ccb
13:47:48.743 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 21e064b9-1d61-4b21-a3d2-c31224b7a7fe의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:48:01.287 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 21e064b9-1d61-4b21-a3d2-c31224b7a7fe의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:48:01.293 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 21e064b9-1d61-4b21-a3d2-c31224b7a7fe
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:48:01.294 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 21e064b9-1d61-4b21-a3d2-c31224b7a7fe
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
13:48:01.300 [Test worker] INFO  c.a.c.service.SignalProtocolService - 세션 초기화: 6456b9b0-c1f9-4706-a516-7cd409659ccb -&gt; 21e064b9-1d61-4b21-a3d2-c31224b7a7fe
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:48:01.423 [Test worker] ERROR c.a.cupid.util.KeyEncryptionUtil - 개인키 복호화 실패: Tag mismatch!
13:48:01.423 [Test worker] ERROR c.a.c.service.SignalProtocolService - 세션 초기화 실패: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
java.lang.RuntimeException: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:126) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.createProtocolStore(SignalProtocolService.kt:1053) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.access$createProtocolStore(SignalProtocolService.kt:40) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:421) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:413) ~[main/:na]
	at com.august.cupid.service.EncryptionMetricsService.recordOperation(EncryptionMetricsService.kt:262) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.initializeSession(SignalProtocolService.kt:413) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.initializeSession(&lt;generated&gt;) ~[main/:na]
	at com.august.cupid.service.SignalProtocolIntegrationTest.test message encryption and decryption(SignalProtocolIntegrationTest.kt:158) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
Caused by: javax.crypto.AEADBadTagException: Tag mismatch!
	at java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(GaloisCounterMode.java:1395) ~[na:na]
	at java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(GaloisCounterMode.java:406) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2205) ~[na:na]
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:123) ~[main/:na]
	... 109 common frames omitted
13:48:01.429 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:48:01.429 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:48:01.429 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:48:01.429 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@219935b7]]
13:48:01.429 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@219935b7]
13:48:01.429 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@219935b7]
13:48:01.429 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:48:01.429 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:48:01.429 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:48:01.434 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:48:01.436 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Shutdown initiated...
13:48:01.436 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Shutdown completed.
</output>
            <output type="stderr">개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.java.lang.SecurityException: 세션 초기화 중 오류가 발생했습니다
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:502)
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:413)
	at com.august.cupid.service.EncryptionMetricsService.recordOperation(EncryptionMetricsService.kt:262)
	at com.august.cupid.service.SignalProtocolService.initializeSession(SignalProtocolService.kt:413)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.initializeSession(&lt;generated&gt;)
	at com.august.cupid.service.SignalProtocolIntegrationTest.test message encryption and decryption(SignalProtocolIntegrationTest.kt:158)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
Caused by: java.lang.RuntimeException: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:126)
	at com.august.cupid.service.SignalProtocolService.createProtocolStore(SignalProtocolService.kt:1053)
	at com.august.cupid.service.SignalProtocolService.access$createProtocolStore(SignalProtocolService.kt:40)
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:421)
	... 19 more
Caused by: javax.crypto.AEADBadTagException: Tag mismatch!
	at java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(GaloisCounterMode.java:1395)
	at java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(GaloisCounterMode.java:406)
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2205)
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:123)
	... 22 more
</output>
        </test>
        <test duration="25207" locationUrl="java:test://com.august.cupid.service.SignalProtocolIntegrationTest/test bidirectional session initialization" name="test bidirectional session initialization" status="failed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:48:01.973 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 f0e13b5e-ac9c-4c6c-bd86-70295807bb04의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:48:14.494 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 f0e13b5e-ac9c-4c6c-bd86-70295807bb04의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:48:14.499 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 f0e13b5e-ac9c-4c6c-bd86-70295807bb04
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:48:14.501 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 f0e13b5e-ac9c-4c6c-bd86-70295807bb04
13:48:14.502 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 d70c9c9c-2151-40bd-bdce-4abe573add1b의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:48:27.031 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 d70c9c9c-2151-40bd-bdce-4abe573add1b의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:48:27.036 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 d70c9c9c-2151-40bd-bdce-4abe573add1b
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:48:27.037 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 d70c9c9c-2151-40bd-bdce-4abe573add1b
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
13:48:27.042 [Test worker] INFO  c.a.c.service.SignalProtocolService - 세션 초기화: f0e13b5e-ac9c-4c6c-bd86-70295807bb04 -&gt; d70c9c9c-2151-40bd-bdce-4abe573add1b
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:48:27.163 [Test worker] ERROR c.a.cupid.util.KeyEncryptionUtil - 개인키 복호화 실패: Tag mismatch!
13:48:27.163 [Test worker] ERROR c.a.c.service.SignalProtocolService - 세션 초기화 실패: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
java.lang.RuntimeException: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:126) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.createProtocolStore(SignalProtocolService.kt:1053) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.access$createProtocolStore(SignalProtocolService.kt:40) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:421) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:413) ~[main/:na]
	at com.august.cupid.service.EncryptionMetricsService.recordOperation(EncryptionMetricsService.kt:262) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.initializeSession(SignalProtocolService.kt:413) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.initializeSession(&lt;generated&gt;) ~[main/:na]
	at com.august.cupid.service.SignalProtocolIntegrationTest.test bidirectional session initialization(SignalProtocolIntegrationTest.kt:409) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
Caused by: javax.crypto.AEADBadTagException: Tag mismatch!
	at java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(GaloisCounterMode.java:1395) ~[na:na]
	at java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(GaloisCounterMode.java:406) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2205) ~[na:na]
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:123) ~[main/:na]
	... 109 common frames omitted
13:48:27.168 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:48:27.168 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:48:27.168 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:48:27.168 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6d1a2b84]]
13:48:27.168 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6d1a2b84]
13:48:27.168 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6d1a2b84]
13:48:27.168 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:48:27.168 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:48:27.168 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:48:27.171 [SimpleAsyncTaskExecutor-6] ERROR c.a.c.service.SecurityAuditLogger - 의심스러운 활동 체크 실패: userId=f0e13b5e-ac9c-4c6c-bd86-70295807bb04
org.springframework.data.mapping.MappingException: Expected to read Document Document{{_id=88e1f769-c149-43dd-978e-d46aea411c02, user_id=f0e13b5e-ac9c-4c6c-bd86-70295807bb04, event_type=SESSION_FAILURE, success=false, error_message=개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요., execution_time_ms=122, metadata=Document{{recipient_id=d70c9c9c-2151-40bd-bdce-4abe573add1b, device_id=1}}, created_at=Sat Nov 29 13:48:27 KST 2025, expires_at=Fri Feb 27 13:48:27 KST 2026, _class=com.august.cupid.model.entity.SecurityAuditLog}} into type long but didn't find a PersistentEntity for the latter
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:519) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:458) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.project(MappingMongoConverter.java:355) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate$ProjectingReadCallback.doWith(MongoTemplate.java:3372) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2957) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2662) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.doFind(ExecutableFindOperationSupport.java:178) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.oneValue(ExecutableFindOperationSupport.java:113) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.lambda$getExecution$8(AbstractMongoQuery.java:239) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.doExecute(AbstractMongoQuery.java:184) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.execute(AbstractMongoQuery.java:156) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.mongodb.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:129) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.util.NullnessMethodInvocationValidator.invoke(NullnessMethodInvocationValidator.java:95) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy3/jdk.proxy3.$Proxy244.countByUserIdAndSuccessFalseAndCreatedAtAfter(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy3/jdk.proxy3.$Proxy244.countByUserIdAndSuccessFalseAndCreatedAtAfter(Unknown Source) ~[na:na]
	at com.august.cupid.service.SecurityAuditLogger.checkSuspiciousActivity(SecurityAuditLogger.kt:283) ~[main/:na]
	at com.august.cupid.service.SecurityAuditLogger.logSessionInitialization(SecurityAuditLogger.kt:124) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.12.jar:6.2.12]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
13:48:27.173 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:48:27.175 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-22 - Shutdown initiated...
13:48:27.175 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-22 - Shutdown completed.
</output>
            <output type="stderr">개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.java.lang.SecurityException: 세션 초기화 중 오류가 발생했습니다
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:502)
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:413)
	at com.august.cupid.service.EncryptionMetricsService.recordOperation(EncryptionMetricsService.kt:262)
	at com.august.cupid.service.SignalProtocolService.initializeSession(SignalProtocolService.kt:413)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.initializeSession(&lt;generated&gt;)
	at com.august.cupid.service.SignalProtocolIntegrationTest.test bidirectional session initialization(SignalProtocolIntegrationTest.kt:409)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
Caused by: java.lang.RuntimeException: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:126)
	at com.august.cupid.service.SignalProtocolService.createProtocolStore(SignalProtocolService.kt:1053)
	at com.august.cupid.service.SignalProtocolService.access$createProtocolStore(SignalProtocolService.kt:40)
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:421)
	... 19 more
Caused by: javax.crypto.AEADBadTagException: Tag mismatch!
	at java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(GaloisCounterMode.java:1395)
	at java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(GaloisCounterMode.java:406)
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2205)
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:123)
	... 22 more
</output>
        </test>
        <test duration="24965" locationUrl="java:test://com.august.cupid.service.SignalProtocolIntegrationTest/test session initialization and management" name="test session initialization and management" status="failed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:48:27.682 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 34ae0e4e-e92a-490c-af01-c03abb045500의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:48:40.132 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 34ae0e4e-e92a-490c-af01-c03abb045500의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:48:40.138 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 34ae0e4e-e92a-490c-af01-c03abb045500
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:48:40.140 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 34ae0e4e-e92a-490c-af01-c03abb045500
13:48:40.140 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 9f1dd339-ac90-4eee-972d-dab3137dc297의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:48:52.496 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 9f1dd339-ac90-4eee-972d-dab3137dc297의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:48:52.501 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 9f1dd339-ac90-4eee-972d-dab3137dc297
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:48:52.502 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 9f1dd339-ac90-4eee-972d-dab3137dc297
Hibernate: 
    select
        ss1_0.id 
    from
        signal_sessions ss1_0 
    where
        ss1_0.user_id=? 
        and ss1_0.address_name=? 
    fetch
        first ? rows only
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
13:48:52.508 [Test worker] INFO  c.a.c.service.SignalProtocolService - 세션 초기화: 34ae0e4e-e92a-490c-af01-c03abb045500 -&gt; 9f1dd339-ac90-4eee-972d-dab3137dc297
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
13:48:52.629 [Test worker] ERROR c.a.cupid.util.KeyEncryptionUtil - 개인키 복호화 실패: Tag mismatch!
13:48:52.629 [Test worker] ERROR c.a.c.service.SignalProtocolService - 세션 초기화 실패: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
java.lang.RuntimeException: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:126) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.createProtocolStore(SignalProtocolService.kt:1053) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.access$createProtocolStore(SignalProtocolService.kt:40) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:421) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:413) ~[main/:na]
	at com.august.cupid.service.EncryptionMetricsService.recordOperation(EncryptionMetricsService.kt:262) ~[main/:na]
	at com.august.cupid.service.SignalProtocolService.initializeSession(SignalProtocolService.kt:413) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.initializeSession(&lt;generated&gt;) ~[main/:na]
	at com.august.cupid.service.SignalProtocolIntegrationTest.test session initialization and management(SignalProtocolIntegrationTest.kt:202) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
Caused by: javax.crypto.AEADBadTagException: Tag mismatch!
	at java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(GaloisCounterMode.java:1395) ~[na:na]
	at java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(GaloisCounterMode.java:406) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2205) ~[na:na]
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:123) ~[main/:na]
	... 109 common frames omitted
13:48:52.634 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:48:52.634 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:48:52.634 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:48:52.634 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@58d9f351]]
13:48:52.634 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@58d9f351]
13:48:52.634 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@58d9f351]
13:48:52.634 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:48:52.634 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:48:52.634 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:48:52.636 [SimpleAsyncTaskExecutor-6] ERROR c.a.c.service.SecurityAuditLogger - 의심스러운 활동 체크 실패: userId=34ae0e4e-e92a-490c-af01-c03abb045500
org.springframework.data.mapping.MappingException: Expected to read Document Document{{_id=8be20d3b-6923-4217-88fb-50b25fcde5ae, user_id=34ae0e4e-e92a-490c-af01-c03abb045500, event_type=SESSION_FAILURE, success=false, error_message=개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요., execution_time_ms=122, metadata=Document{{recipient_id=9f1dd339-ac90-4eee-972d-dab3137dc297, device_id=1}}, created_at=Sat Nov 29 13:48:52 KST 2025, expires_at=Fri Feb 27 13:48:52 KST 2026, _class=com.august.cupid.model.entity.SecurityAuditLog}} into type long but didn't find a PersistentEntity for the latter
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:519) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:458) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.project(MappingMongoConverter.java:355) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate$ProjectingReadCallback.doWith(MongoTemplate.java:3372) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2957) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2662) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.doFind(ExecutableFindOperationSupport.java:178) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.core.ExecutableFindOperationSupport$ExecutableFindSupport.oneValue(ExecutableFindOperationSupport.java:113) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.lambda$getExecution$8(AbstractMongoQuery.java:239) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.doExecute(AbstractMongoQuery.java:184) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.execute(AbstractMongoQuery.java:156) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.mongodb.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:129) ~[spring-data-mongodb-4.5.5.jar:4.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.data.util.NullnessMethodInvocationValidator.invoke(NullnessMethodInvocationValidator.java:95) ~[spring-data-commons-3.5.5.jar:3.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy3/jdk.proxy3.$Proxy244.countByUserIdAndSuccessFalseAndCreatedAtAfter(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy3/jdk.proxy3.$Proxy244.countByUserIdAndSuccessFalseAndCreatedAtAfter(Unknown Source) ~[na:na]
	at com.august.cupid.service.SecurityAuditLogger.checkSuspiciousActivity(SecurityAuditLogger.kt:283) ~[main/:na]
	at com.august.cupid.service.SecurityAuditLogger.logSessionInitialization(SecurityAuditLogger.kt:124) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.12.jar:6.2.12]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
13:48:52.640 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:48:52.641 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-23 - Shutdown initiated...
13:48:52.642 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-23 - Shutdown completed.
</output>
            <output type="stderr">개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.java.lang.SecurityException: 세션 초기화 중 오류가 발생했습니다
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:502)
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:413)
	at com.august.cupid.service.EncryptionMetricsService.recordOperation(EncryptionMetricsService.kt:262)
	at com.august.cupid.service.SignalProtocolService.initializeSession(SignalProtocolService.kt:413)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.initializeSession(&lt;generated&gt;)
	at com.august.cupid.service.SignalProtocolIntegrationTest.test session initialization and management(SignalProtocolIntegrationTest.kt:202)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
Caused by: java.lang.RuntimeException: 개인키 복호화 중 오류가 발생했습니다. 비밀번호가 올바른지 확인하세요.
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:126)
	at com.august.cupid.service.SignalProtocolService.createProtocolStore(SignalProtocolService.kt:1053)
	at com.august.cupid.service.SignalProtocolService.access$createProtocolStore(SignalProtocolService.kt:40)
	at com.august.cupid.service.SignalProtocolService$initializeSession$1.invoke(SignalProtocolService.kt:421)
	... 19 more
Caused by: javax.crypto.AEADBadTagException: Tag mismatch!
	at java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(GaloisCounterMode.java:1395)
	at java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(GaloisCounterMode.java:406)
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2205)
	at com.august.cupid.util.KeyEncryptionUtil.decryptPrivateKey(KeyEncryptionUtil.kt:123)
	... 22 more
</output>
        </test>
        <test duration="25055" locationUrl="java:test://com.august.cupid.service.SignalProtocolIntegrationTest/test fingerprint verification" name="test fingerprint verification" status="passed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
13:48:53.114 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 af6fb6f5-01b5-4e96-a14b-1160318ff442의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:49:05.656 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 af6fb6f5-01b5-4e96-a14b-1160318ff442의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:49:05.661 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 af6fb6f5-01b5-4e96-a14b-1160318ff442
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:49:05.663 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 af6fb6f5-01b5-4e96-a14b-1160318ff442
13:49:05.663 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 c75a2eee-c9e3-457d-be8b-b2ba2ccb7563의 Signal Protocol 키 생성 시작
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id 
    from
        user_keys uk1_0 
    left join
        users u1_0 
            on u1_0.id=uk1_0.user_id 
    where
        u1_0.id=? 
    fetch
        first ? rows only
13:49:18.139 [Test worker] INFO  c.a.c.service.SignalProtocolService - 사용자 c75a2eee-c9e3-457d-be8b-b2ba2ccb7563의 Signal Protocol 키 생성 완료 (Pre Keys: 100)
Hibernate: 
    insert 
    into
        user_keys
        (created_at, device_id, expires_at, identity_private_key_encrypted, identity_public_key, pre_key_signature, registration_id, signed_pre_key, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_signed_pre_keys
        (created_at, expires_at, is_active, private_key_encrypted, public_key, signature, signed_pre_key_id, timestamp, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        signal_pre_keys
        (created_at, expires_at, is_used, pre_key_id, private_key_encrypted, public_key, used_at, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
13:49:18.144 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증: 사용자 c75a2eee-c9e3-457d-be8b-b2ba2ccb7563
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:49:18.145 [Test worker] INFO  c.a.c.service.SignalProtocolService - 키 등록 검증 완료: 사용자 c75a2eee-c9e3-457d-be8b-b2ba2ccb7563
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        spk1_0.id,
        spk1_0.created_at,
        spk1_0.expires_at,
        spk1_0.is_used,
        spk1_0.pre_key_id,
        spk1_0.private_key_encrypted,
        spk1_0.public_key,
        spk1_0.used_at,
        spk1_0.user_id 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;? 
    order by
        spk1_0.created_at 
    fetch
        first 1 rows only
Hibernate: 
    update
        signal_pre_keys 
    set
        created_at=?,
        expires_at=?,
        is_used=?,
        pre_key_id=?,
        private_key_encrypted=?,
        public_key=?,
        used_at=?,
        user_id=? 
    where
        id=?
Hibernate: 
    select
        count(spk1_0.id) 
    from
        signal_pre_keys spk1_0 
    where
        spk1_0.user_id=? 
        and spk1_0.is_used=false 
        and spk1_0.expires_at&gt;?
Hibernate: 
    select
        sspk1_0.id,
        sspk1_0.created_at,
        sspk1_0.expires_at,
        sspk1_0.is_active,
        sspk1_0.private_key_encrypted,
        sspk1_0.public_key,
        sspk1_0.signature,
        sspk1_0.signed_pre_key_id,
        sspk1_0.timestamp,
        sspk1_0.user_id 
    from
        signal_signed_pre_keys sspk1_0 
    where
        sspk1_0.user_id=? 
        and sspk1_0.is_active
Hibernate: 
    select
        si1_0.id,
        si1_0.address_device_id,
        si1_0.address_name,
        si1_0.created_at,
        si1_0.identity_key,
        si1_0.trust_level,
        si1_0.user_id,
        si1_0.verified_at 
    from
        signal_identities si1_0 
    where
        si1_0.user_id=? 
        and si1_0.address_name=? 
        and si1_0.address_device_id=?
13:49:18.156 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:49:18.156 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:49:18.156 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:49:18.156 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5664a7d6]]
13:49:18.156 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5664a7d6]
13:49:18.156 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5664a7d6]
13:49:18.156 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:49:18.156 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:49:18.156 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:49:18.162 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:49:18.163 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-24 - Shutdown initiated...
13:49:18.164 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-24 - Shutdown completed.
</output>
        </test>
        <test duration="19" locationUrl="java:test://com.august.cupid.service.SignalProtocolIntegrationTest/test get pre-key bundle for user without keys should throw exception" name="test get pre-key bundle for user without keys should throw exception" status="passed">
            <output type="stdout">Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_active,
        u1_0.last_seen_at,
        u1_0.metadata,
        u1_0.password_hash,
        u1_0.profile_image_blurhash,
        u1_0.profile_image_metadata,
        u1_0.profile_image_url,
        u1_0.profile_thumbnail_url,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    insert 
    into
        users
        (created_at, email, is_active, last_seen_at, metadata, password_hash, profile_image_blurhash, profile_image_metadata, profile_image_url, profile_thumbnail_url, updated_at, username, id) 
    values
        (?, ?, ?, ?, cast(? as jsonb), ?, ?, cast(? as jsonb), ?, ?, ?, ?, ?)
Hibernate: 
    select
        uk1_0.id,
        uk1_0.created_at,
        uk1_0.device_id,
        uk1_0.expires_at,
        uk1_0.identity_private_key_encrypted,
        uk1_0.identity_public_key,
        uk1_0.pre_key_signature,
        uk1_0.registration_id,
        uk1_0.signed_pre_key,
        uk1_0.user_id 
    from
        user_keys uk1_0 
    where
        uk1_0.user_id=? 
        and (
            uk1_0.expires_at is null 
            or uk1_0.expires_at&gt;?
        )
13:49:18.695 [Test worker] ERROR c.a.c.service.SignalProtocolService - Pre-key bundle 조회 실패: 사용자 3441b613-8649-416a-aadc-31682decdf56의 활성 키를 찾을 수 없습니다
java.util.NoSuchElementException: 사용자 3441b613-8649-416a-aadc-31682decdf56의 활성 키를 찾을 수 없습니다
	at com.august.cupid.service.SignalProtocolService.getPreKeyBundle(SignalProtocolService.kt:309) ~[main/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor209.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.12.jar:6.2.12]
	at com.august.cupid.service.SignalProtocolService$$SpringCGLIB$$0.getPreKeyBundle(&lt;generated&gt;) ~[main/:na]
	at com.august.cupid.service.SignalProtocolIntegrationTest.test get pre-key bundle for user without keys should throw exception(SignalProtocolIntegrationTest.kt:279) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
13:49:18.701 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
13:49:18.701 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
13:49:18.701 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
13:49:18.701 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7e3edbeb]]
13:49:18.701 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7e3edbeb]
13:49:18.701 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7e3edbeb]
13:49:18.701 [Test worker] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
13:49:18.701 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:49:18.701 [Test worker] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
13:49:18.707 [Test worker] INFO  c.a.cupid.security.RateLimitService - Rate Limit Service shut down
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FK5w7mqibtg5vbjt7xq6xyhc479
Hibernate: 
    alter table if exists channel_members 
       drop constraint if exists FKjunpxp98pv6g23t5d3w5hx8ji
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FKt8t7t0jsv6uvceg7lit13hse0
Hibernate: 
    alter table if exists channel_notification_settings 
       drop constraint if exists FK26we20nmu8pah3pkpkox3rg4a
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKq05d9yq71dvnxm9sytlg17824
Hibernate: 
    alter table if exists channels 
       drop constraint if exists FKosnc37juiawxrsvfmv29393pd
Hibernate: 
    alter table if exists fcm_tokens 
       drop constraint if exists FKj2kob865pl9dv5vwrs2pmshjv
Hibernate: 
    alter table if exists key_backups 
       drop constraint if exists FKpsobgc1hygj78ujxxncifv5ix
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKow9p2p6lb04rmjphffgyc48y
Hibernate: 
    alter table if exists matches 
       drop constraint if exists FKgxaf471cy6rk84ux6avpw5vb0
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKfgy9uexv1l2vw95js9o3md5gq
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKr9x265f416jt1gj7tv2lse6vx
Hibernate: 
    alter table if exists reports 
       drop constraint if exists FKpemp8lt5m0ujfywtgnuw4ypw9
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FK7k3mfgb03bnmwh81vqb1u5h80
Hibernate: 
    alter table if exists user_blocks 
       drop constraint if exists FKgvu85oyjrfafwttb7iphgmm0v
Hibernate: 
    alter table if exists user_keys 
       drop constraint if exists FKef2vjvmiao7ksrsff2wikdm4y
Hibernate: 
    drop table if exists channel_members cascade
Hibernate: 
    drop table if exists channel_notification_settings cascade
Hibernate: 
    drop table if exists channels cascade
Hibernate: 
    drop table if exists fcm_tokens cascade
Hibernate: 
    drop table if exists key_backups cascade
Hibernate: 
    drop table if exists key_rotation_history cascade
Hibernate: 
    drop table if exists matches cascade
Hibernate: 
    drop table if exists reports cascade
Hibernate: 
    drop table if exists signal_identities cascade
Hibernate: 
    drop table if exists signal_pre_keys cascade
Hibernate: 
    drop table if exists signal_sessions cascade
Hibernate: 
    drop table if exists signal_signed_pre_keys cascade
Hibernate: 
    drop table if exists user_blocks cascade
Hibernate: 
    drop table if exists user_keys cascade
Hibernate: 
    drop table if exists user_notification_settings cascade
Hibernate: 
    drop table if exists users cascade
13:49:18.708 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-25 - Shutdown initiated...
13:49:18.709 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-25 - Shutdown completed.
</output>
        </test>
    </suite>
    <suite duration="1180" locationUrl="java:suite://com.august.cupid.websocket.ConnectionInterceptorTest" name="ConnectionInterceptorTest" status="passed">
        <test duration="1112" locationUrl="java:test://com.august.cupid.websocket.ConnectionInterceptorTest/beforeHandshake should fail when userId cannot be extracted" name="beforeHandshake should fail when userId cannot be extracted" status="passed">
            <output type="stdout">13:49:18.711 [SimpleAsyncTaskExecutor-1] INFO  c.a.c.c.RedisConfig$$SpringCGLIB$$0 - Redis 연결 팩토리 초기화: host=localhost, port=6379
13:49:18.711 [SimpleAsyncTaskExecutor-1] INFO  c.a.c.c.RedisConfig$$SpringCGLIB$$0 - Redis 연결 풀 설정 완료: maxActive=8, maxIdle=8, minIdle=0, timeout=2000ms
13:49:18.713 [SimpleAsyncTaskExecutor-1] ERROR c.a.c.service.SecurityAuditLogger - 키 번들 조회 이벤트 로깅 실패
org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties' : prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:99) ~[spring-boot-3.5.7.jar:3.5.7]
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:79) ~[spring-boot-3.5.7.jar:3.5.7]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1818) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1770) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:845) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:452) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:845) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:452) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:525) ~[spring-beans-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:175) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:151) ~[spring-tx-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.12.jar:6.2.12]
	at jdk.proxy3/jdk.proxy3.$Proxy244.save(Unknown Source) ~[na:na]
	at com.august.cupid.service.SecurityAuditLogger.logKeyBundleRetrieval(SecurityAuditLogger.kt:237) ~[main/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor210.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.12.jar:6.2.12]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.12.jar:6.2.12]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e78ad4a has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1259) ~[spring-context-6.2.12.jar:6.2.12]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1280) ~[spring-context-6.2.12.jar:6.2.12]
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:76) ~[spring-boot-3.5.7.jar:3.5.7]
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:144) ~[spring-boot-3.5.7.jar:3.5.7]
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:113) ~[spring-boot-3.5.7.jar:3.5.7]
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:93) ~[spring-boot-3.5.7.jar:3.5.7]
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:96) ~[spring-boot-3.5.7.jar:3.5.7]
	... 54 common frames omitted
13:49:19.674 [Test worker] WARN  i.m.i.r.s.StubbingAwaitingAnswerState - Failed to set backing field (skipping)
java.lang.IllegalAccessException: class io.mockk.InternalPlatformDsl cannot access a member of class java.net.URI (in module java.base) with modifiers "private transient"
	at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392) ~[na:na]
	at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674) ~[na:na]
	at java.base/java.lang.reflect.Field.checkAccess(Field.java:1102) ~[na:na]
	at java.base/java.lang.reflect.Field.set(Field.java:797) ~[na:na]
	at io.mockk.InternalPlatformDsl.dynamicSetField(InternalPlatformDsl.kt:182) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState.assignFieldIfMockingProperty(StubbingAwaitingAnswerState.kt:68) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState.access$assignFieldIfMockingProperty(StubbingAwaitingAnswerState.kt:9) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState$assignFieldIfMockingProperty$1.invoke(StubbingAwaitingAnswerState.kt:52) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState$assignFieldIfMockingProperty$1.invoke(StubbingAwaitingAnswerState.kt:51) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.stub.AnswerAnsweringOpportunity.notifyFirstAnswerHandlers(AnswerAnsweringOpportunity.kt:30) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.stub.AnswerAnsweringOpportunity.provideAnswer(AnswerAnsweringOpportunity.kt:21) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.MockKStubScope.answers(API.kt:2226) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at io.mockk.MockKStubScope.returns(API.kt:2230) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at com.august.cupid.websocket.ConnectionInterceptorTest.mockRequestWithToken(ConnectionInterceptorTest.kt:175) ~[test/:na]
	at com.august.cupid.websocket.ConnectionInterceptorTest.beforeHandshake should fail when userId cannot be extracted(ConnectionInterceptorTest.kt:131) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
13:49:19.821 [Test worker] INFO  c.a.c.w.ConnectionInterceptor - WebSocket 핸드셰이크 시작: URI=URI(child of #8#9)
13:49:19.822 [Test worker] WARN  c.a.c.w.ConnectionInterceptor - WebSocket 연결 실패: 토큰에서 사용자 ID를 추출할 수 없습니다. URI=URI(child of #8#9)
</output>
        </test>
        <test duration="18" locationUrl="java:test://com.august.cupid.websocket.ConnectionInterceptorTest/beforeHandshake should fail when token is blacklisted" name="beforeHandshake should fail when token is blacklisted" status="passed">
            <output type="stdout">13:49:19.828 [Test worker] WARN  i.m.i.r.s.StubbingAwaitingAnswerState - Failed to set backing field (skipping)
java.lang.IllegalAccessException: class io.mockk.InternalPlatformDsl cannot access a member of class java.net.URI (in module java.base) with modifiers "private transient"
	at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392) ~[na:na]
	at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674) ~[na:na]
	at java.base/java.lang.reflect.Field.checkAccess(Field.java:1102) ~[na:na]
	at java.base/java.lang.reflect.Field.set(Field.java:797) ~[na:na]
	at io.mockk.InternalPlatformDsl.dynamicSetField(InternalPlatformDsl.kt:182) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState.assignFieldIfMockingProperty(StubbingAwaitingAnswerState.kt:68) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState.access$assignFieldIfMockingProperty(StubbingAwaitingAnswerState.kt:9) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState$assignFieldIfMockingProperty$1.invoke(StubbingAwaitingAnswerState.kt:52) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState$assignFieldIfMockingProperty$1.invoke(StubbingAwaitingAnswerState.kt:51) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.stub.AnswerAnsweringOpportunity.notifyFirstAnswerHandlers(AnswerAnsweringOpportunity.kt:30) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.stub.AnswerAnsweringOpportunity.provideAnswer(AnswerAnsweringOpportunity.kt:21) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.MockKStubScope.answers(API.kt:2226) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at io.mockk.MockKStubScope.returns(API.kt:2230) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at com.august.cupid.websocket.ConnectionInterceptorTest.mockRequestWithToken(ConnectionInterceptorTest.kt:175) ~[test/:na]
	at com.august.cupid.websocket.ConnectionInterceptorTest.beforeHandshake should fail when token is blacklisted(ConnectionInterceptorTest.kt:92) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
13:49:19.833 [Test worker] INFO  c.a.c.w.ConnectionInterceptor - WebSocket 핸드셰이크 시작: URI=URI(child of #21#22)
13:49:19.833 [Test worker] WARN  c.a.c.w.ConnectionInterceptor - WebSocket 연결 실패: 블랙리스트된 토큰입니다. URI=URI(child of #21#22)
</output>
        </test>
        <test duration="10" locationUrl="java:test://com.august.cupid.websocket.ConnectionInterceptorTest/beforeHandshake should fail when token is missing" name="beforeHandshake should fail when token is missing" status="passed">
            <output type="stdout">13:49:19.846 [Test worker] WARN  i.m.i.r.s.StubbingAwaitingAnswerState - Failed to set backing field (skipping)
java.lang.IllegalAccessException: class io.mockk.InternalPlatformDsl cannot access a member of class java.net.URI (in module java.base) with modifiers "private transient"
	at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392) ~[na:na]
	at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674) ~[na:na]
	at java.base/java.lang.reflect.Field.checkAccess(Field.java:1102) ~[na:na]
	at java.base/java.lang.reflect.Field.set(Field.java:797) ~[na:na]
	at io.mockk.InternalPlatformDsl.dynamicSetField(InternalPlatformDsl.kt:182) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState.assignFieldIfMockingProperty(StubbingAwaitingAnswerState.kt:68) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState.access$assignFieldIfMockingProperty(StubbingAwaitingAnswerState.kt:9) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState$assignFieldIfMockingProperty$1.invoke(StubbingAwaitingAnswerState.kt:52) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState$assignFieldIfMockingProperty$1.invoke(StubbingAwaitingAnswerState.kt:51) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.stub.AnswerAnsweringOpportunity.notifyFirstAnswerHandlers(AnswerAnsweringOpportunity.kt:30) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.stub.AnswerAnsweringOpportunity.provideAnswer(AnswerAnsweringOpportunity.kt:21) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.MockKStubScope.answers(API.kt:2226) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at io.mockk.MockKStubScope.returns(API.kt:2230) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at com.august.cupid.websocket.ConnectionInterceptorTest.mockRequestWithoutToken(ConnectionInterceptorTest.kt:199) ~[test/:na]
	at com.august.cupid.websocket.ConnectionInterceptorTest.beforeHandshake should fail when token is missing(ConnectionInterceptorTest.kt:75) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
13:49:19.849 [Test worker] INFO  c.a.c.w.ConnectionInterceptor - WebSocket 핸드셰이크 시작: URI=URI(child of #33#34)
13:49:19.849 [Test worker] WARN  c.a.c.w.ConnectionInterceptor - WebSocket 연결 실패: JWT 토큰이 없습니다. URI=URI(child of #33#34)
</output>
        </test>
        <test duration="17" locationUrl="java:test://com.august.cupid.websocket.ConnectionInterceptorTest/beforeHandshake should extract token from query parameter" name="beforeHandshake should extract token from query parameter" status="passed">
            <output type="stdout">13:49:19.857 [Test worker] WARN  i.m.i.r.s.StubbingAwaitingAnswerState - Failed to set backing field (skipping)
java.lang.IllegalAccessException: class io.mockk.InternalPlatformDsl cannot access a member of class java.net.URI (in module java.base) with modifiers "private transient"
	at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392) ~[na:na]
	at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674) ~[na:na]
	at java.base/java.lang.reflect.Field.checkAccess(Field.java:1102) ~[na:na]
	at java.base/java.lang.reflect.Field.set(Field.java:797) ~[na:na]
	at io.mockk.InternalPlatformDsl.dynamicSetField(InternalPlatformDsl.kt:182) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState.assignFieldIfMockingProperty(StubbingAwaitingAnswerState.kt:68) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState.access$assignFieldIfMockingProperty(StubbingAwaitingAnswerState.kt:9) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState$assignFieldIfMockingProperty$1.invoke(StubbingAwaitingAnswerState.kt:52) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState$assignFieldIfMockingProperty$1.invoke(StubbingAwaitingAnswerState.kt:51) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.stub.AnswerAnsweringOpportunity.notifyFirstAnswerHandlers(AnswerAnsweringOpportunity.kt:30) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.stub.AnswerAnsweringOpportunity.provideAnswer(AnswerAnsweringOpportunity.kt:21) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.MockKStubScope.answers(API.kt:2226) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at io.mockk.MockKStubScope.returns(API.kt:2230) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at com.august.cupid.websocket.ConnectionInterceptorTest.mockRequestWithQueryToken(ConnectionInterceptorTest.kt:187) ~[test/:na]
	at com.august.cupid.websocket.ConnectionInterceptorTest.beforeHandshake should extract token from query parameter(ConnectionInterceptorTest.kt:150) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
13:49:19.863 [Test worker] INFO  c.a.c.w.ConnectionInterceptor - WebSocket 핸드셰이크 시작: URI=URI(child of #46#47)
13:49:19.863 [Test worker] INFO  c.a.c.w.ConnectionInterceptor - JWT 토큰 검증 및 사용자 ID 추출 성공: userId=b5c1c0ca-e539-43de-ac28-6884bd0e5539
13:49:19.867 [Test worker] ERROR c.a.c.w.ConnectionInterceptor - Redis에 온라인 상태 저장 실패: userId=b5c1c0ca-e539-43de-ac28-6884bd0e5539
io.mockk.MockKException: no answer found for ValueOperations(#42).set(user:online:b5c1c0ca-e539-43de-ac28-6884bd0e5539, true, 300, SECONDS) among the configured answers: (ValueOperations(#42).set(any(), any()))
ValueOperations(#42).get(any())))
	at io.mockk.impl.stub.MockKStub.defaultAnswer(MockKStub.kt:91) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.stub.MockKStub.answer(MockKStub.kt:42) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.AnsweringState.call(AnsweringState.kt:16) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.CommonCallRecorder.call(CommonCallRecorder.kt:53) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.stub.MockKStub.handleInvocation(MockKStub.kt:269) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.instantiation.JvmMockFactoryHelper$mockHandler$1.invocation(JvmMockFactoryHelper.kt:24) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.proxy.jvm.advice.Interceptor.call(Interceptor.kt:21) ~[mockk-agent-jvm-1.13.8.jar:na]
	at io.mockk.proxy.jvm.advice.BaseAdvice.handle(BaseAdvice.kt:42) ~[mockk-agent-jvm-1.13.8.jar:na]
	at io.mockk.proxy.jvm.advice.jvm.JvmMockKProxyInterceptor.interceptNoSuper(JvmMockKProxyInterceptor.java:45) ~[mockk-agent-jvm-1.13.8.jar:na]
	at org.springframework.data.redis.core.ValueOperations$Subclass0.set(Unknown Source) ~[spring-data-redis-3.5.5.jar:3.5.5]
	at com.august.cupid.websocket.ConnectionInterceptor.setUserOnlineStatus(ConnectionInterceptor.kt:151) ~[main/:na]
	at com.august.cupid.websocket.ConnectionInterceptor.beforeHandshake(ConnectionInterceptor.kt:87) ~[main/:na]
	at com.august.cupid.websocket.ConnectionInterceptorTest.beforeHandshake should extract token from query parameter(ConnectionInterceptorTest.kt:160) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
13:49:19.869 [Test worker] INFO  c.a.c.w.ConnectionInterceptor - WebSocket 연결 성공: userId=b5c1c0ca-e539-43de-ac28-6884bd0e5539, sessionId=ws-session-b5c1c0ca-e539-43de-ac28-6884bd0e5539-1764391759863-587
</output>
        </test>
        <test duration="9" locationUrl="java:test://com.august.cupid.websocket.ConnectionInterceptorTest/beforeHandshake should fail when token is invalid" name="beforeHandshake should fail when token is invalid" status="passed">
            <output type="stdout">13:49:19.873 [Test worker] WARN  i.m.i.r.s.StubbingAwaitingAnswerState - Failed to set backing field (skipping)
java.lang.IllegalAccessException: class io.mockk.InternalPlatformDsl cannot access a member of class java.net.URI (in module java.base) with modifiers "private transient"
	at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392) ~[na:na]
	at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674) ~[na:na]
	at java.base/java.lang.reflect.Field.checkAccess(Field.java:1102) ~[na:na]
	at java.base/java.lang.reflect.Field.set(Field.java:797) ~[na:na]
	at io.mockk.InternalPlatformDsl.dynamicSetField(InternalPlatformDsl.kt:182) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState.assignFieldIfMockingProperty(StubbingAwaitingAnswerState.kt:68) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState.access$assignFieldIfMockingProperty(StubbingAwaitingAnswerState.kt:9) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState$assignFieldIfMockingProperty$1.invoke(StubbingAwaitingAnswerState.kt:52) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState$assignFieldIfMockingProperty$1.invoke(StubbingAwaitingAnswerState.kt:51) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.stub.AnswerAnsweringOpportunity.notifyFirstAnswerHandlers(AnswerAnsweringOpportunity.kt:30) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.stub.AnswerAnsweringOpportunity.provideAnswer(AnswerAnsweringOpportunity.kt:21) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.MockKStubScope.answers(API.kt:2226) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at io.mockk.MockKStubScope.returns(API.kt:2230) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at com.august.cupid.websocket.ConnectionInterceptorTest.mockRequestWithToken(ConnectionInterceptorTest.kt:175) ~[test/:na]
	at com.august.cupid.websocket.ConnectionInterceptorTest.beforeHandshake should fail when token is invalid(ConnectionInterceptorTest.kt:111) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
13:49:19.876 [Test worker] INFO  c.a.c.w.ConnectionInterceptor - WebSocket 핸드셰이크 시작: URI=URI(child of #59#60)
13:49:19.877 [Test worker] WARN  c.a.c.w.ConnectionInterceptor - WebSocket 연결 실패: 유효하지 않은 JWT 토큰입니다. URI=URI(child of #59#60)
</output>
        </test>
        <test duration="14" locationUrl="java:test://com.august.cupid.websocket.ConnectionInterceptorTest/beforeHandshake should succeed with valid JWT token" name="beforeHandshake should succeed with valid JWT token" status="passed">
            <output type="stdout">13:49:19.884 [Test worker] WARN  i.m.i.r.s.StubbingAwaitingAnswerState - Failed to set backing field (skipping)
java.lang.IllegalAccessException: class io.mockk.InternalPlatformDsl cannot access a member of class java.net.URI (in module java.base) with modifiers "private transient"
	at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392) ~[na:na]
	at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674) ~[na:na]
	at java.base/java.lang.reflect.Field.checkAccess(Field.java:1102) ~[na:na]
	at java.base/java.lang.reflect.Field.set(Field.java:797) ~[na:na]
	at io.mockk.InternalPlatformDsl.dynamicSetField(InternalPlatformDsl.kt:182) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState.assignFieldIfMockingProperty(StubbingAwaitingAnswerState.kt:68) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState.access$assignFieldIfMockingProperty(StubbingAwaitingAnswerState.kt:9) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState$assignFieldIfMockingProperty$1.invoke(StubbingAwaitingAnswerState.kt:52) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.StubbingAwaitingAnswerState$assignFieldIfMockingProperty$1.invoke(StubbingAwaitingAnswerState.kt:51) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.stub.AnswerAnsweringOpportunity.notifyFirstAnswerHandlers(AnswerAnsweringOpportunity.kt:30) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.stub.AnswerAnsweringOpportunity.provideAnswer(AnswerAnsweringOpportunity.kt:21) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.MockKStubScope.answers(API.kt:2226) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at io.mockk.MockKStubScope.returns(API.kt:2230) ~[mockk-dsl-jvm-1.13.8.jar:na]
	at com.august.cupid.websocket.ConnectionInterceptorTest.mockRequestWithToken(ConnectionInterceptorTest.kt:175) ~[test/:na]
	at com.august.cupid.websocket.ConnectionInterceptorTest.beforeHandshake should succeed with valid JWT token(ConnectionInterceptorTest.kt:50) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
13:49:19.889 [Test worker] INFO  c.a.c.w.ConnectionInterceptor - WebSocket 핸드셰이크 시작: URI=URI(child of #72#73)
13:49:19.889 [Test worker] INFO  c.a.c.w.ConnectionInterceptor - JWT 토큰 검증 및 사용자 ID 추출 성공: userId=17e0d783-89df-46b3-8fd7-459afb0e3cc2
13:49:19.890 [Test worker] ERROR c.a.c.w.ConnectionInterceptor - Redis에 온라인 상태 저장 실패: userId=17e0d783-89df-46b3-8fd7-459afb0e3cc2
io.mockk.MockKException: no answer found for ValueOperations(#68).set(user:online:17e0d783-89df-46b3-8fd7-459afb0e3cc2, true, 300, SECONDS) among the configured answers: (ValueOperations(#68).set(any(), any()))
ValueOperations(#68).get(any())))
	at io.mockk.impl.stub.MockKStub.defaultAnswer(MockKStub.kt:91) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.stub.MockKStub.answer(MockKStub.kt:42) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.states.AnsweringState.call(AnsweringState.kt:16) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.recording.CommonCallRecorder.call(CommonCallRecorder.kt:53) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.stub.MockKStub.handleInvocation(MockKStub.kt:269) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.impl.instantiation.JvmMockFactoryHelper$mockHandler$1.invocation(JvmMockFactoryHelper.kt:24) ~[mockk-jvm-1.13.8.jar:na]
	at io.mockk.proxy.jvm.advice.Interceptor.call(Interceptor.kt:21) ~[mockk-agent-jvm-1.13.8.jar:na]
	at io.mockk.proxy.jvm.advice.BaseAdvice.handle(BaseAdvice.kt:42) ~[mockk-agent-jvm-1.13.8.jar:na]
	at io.mockk.proxy.jvm.advice.jvm.JvmMockKProxyInterceptor.interceptNoSuper(JvmMockKProxyInterceptor.java:45) ~[mockk-agent-jvm-1.13.8.jar:na]
	at org.springframework.data.redis.core.ValueOperations$Subclass0.set(Unknown Source) ~[spring-data-redis-3.5.5.jar:3.5.5]
	at com.august.cupid.websocket.ConnectionInterceptor.setUserOnlineStatus(ConnectionInterceptor.kt:151) ~[main/:na]
	at com.august.cupid.websocket.ConnectionInterceptor.beforeHandshake(ConnectionInterceptor.kt:87) ~[main/:na]
	at com.august.cupid.websocket.ConnectionInterceptorTest.beforeHandshake should succeed with valid JWT token(ConnectionInterceptorTest.kt:60) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) ~[junit-platform-commons-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) ~[na:na]
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]
13:49:19.891 [Test worker] INFO  c.a.c.w.ConnectionInterceptor - WebSocket 연결 성공: userId=17e0d783-89df-46b3-8fd7-459afb0e3cc2, sessionId=ws-session-17e0d783-89df-46b3-8fd7-459afb0e3cc2-1764391759889-661
</output>
        </test>
    </suite>
</testrun>
